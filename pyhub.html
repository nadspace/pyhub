<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyHub - Complete Python Learning Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/dracula.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/selection/active-line.min.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
    
    <style>
        .gradient-bg { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.2); }
        .CodeMirror { height: 400px; font-size: 14px; }
        .code-block { border-left: 4px solid #3b82f6; }
        .keyword-tag { background: linear-gradient(45deg, #3b82f6, #8b5cf6); }
        .section-active { border-left: 4px solid #10b981; background: rgba(16, 185, 129, 0.1); }
        .framework-card { transition: all 0.3s ease; border-left: 4px solid transparent; }
        .framework-card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px rgba(0,0,0,0.2); border-left-color: #f59e0b; }
        .message-bubble { animation: fadeInUp 0.3s ease-out; max-width: 80%; }
        .bot-message { background: linear-gradient(135deg, #3b82f6, #1d4ed8); border-radius: 18px 18px 18px 4px; }
        .user-message { background: linear-gradient(135deg, #10b981, #059669); border-radius: 18px 18px 4px 18px; }
        .typing-indicator {
            display: flex;
            align-items: center;
        }
        .typing-indicator span {
            height: 6px;
            width: 6px;
            background-color: #9ca3af;
            border-radius: 50%;
            display: inline-block;
            margin-right: 4px;
            animation: typing 1.4s infinite ease-in-out;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0.8); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* Fade in animation for messages */
        .animate-fadeInUp {
            animation: fadeInUp 0.3s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .question-card { transition: all 0.3s ease; border-left: 4px solid transparent; }
        .question-active { border-left-color: #8b5cf6; background: rgba(139, 92, 246, 0.1); }
        .option-btn { transition: all 0.2s ease; }
        .option-btn:hover { transform: translateX(5px); }
        .correct { background: linear-gradient(45deg, #10b981, #059669); }
        .incorrect { background: linear-gradient(45deg, #ef4444, #dc2626); }
        .progress-bar { transition: width 0.3s ease; }
        .page { display: none; }
        .page.active { display: block; }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Navigation -->
    <nav class="gradient-bg shadow-lg fixed top-0 w-full z-50">
        <div class="max-w-7xl mx-auto px-4">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <i class="fab fa-python text-3xl mr-3 text-yellow-400"></i>
                    <h1 class="text-2xl font-bold">PyHub</h1>
                </div>
                <div class="flex space-x-4">
                    <button onclick="showPage('home')" class="nav-btn hover:text-yellow-400 transition-colors px-3 py-2 rounded">
                        <i class="fas fa-home mr-1"></i>Home
                    </button>
                    <button onclick="showPage('notes')" class="nav-btn hover:text-yellow-400 transition-colors px-3 py-2 rounded">
                        <i class="fas fa-book mr-1"></i>Notes
                    </button>
                    <button onclick="showPage('compiler')" class="nav-btn hover:text-yellow-400 transition-colors px-3 py-2 rounded">
                        <i class="fas fa-code mr-1"></i>Compiler
                    </button>
                    <button onclick="showPage('quiz')" class="nav-btn hover:text-yellow-400 transition-colors px-3 py-2 rounded">
                        <i class="fas fa-brain mr-1"></i>Quiz
                    </button>
                    <button onclick="showPage('chatbot')" class="nav-btn hover:text-yellow-400 transition-colors px-3 py-2 rounded">
                        <i class="fas fa-robot mr-1"></i>Chatbot
                    </button>
                    <button onclick="showPage('frameworks')" class="nav-btn hover:text-yellow-400 transition-colors px-3 py-2 rounded">
                        <i class="fas fa-layer-group mr-1"></i>Frameworks
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Area -->
    <div class="pt-20">
        <!-- Home Page -->
        <div id="home" class="page active">
            <section class="gradient-bg py-20">
                <div class="max-w-7xl mx-auto px-4 text-center">
                    <h2 class="text-5xl font-bold mb-6">Welcome to PyHub</h2>
                    <p class="text-xl mb-8 opacity-90">Your comprehensive Python learning platform with interactive tools, compiler, quizzes, and AI assistance</p>
                </div>
            </section>

            <section class="py-20 bg-gray-800">
                <div class="max-w-7xl mx-auto px-4">
                    <h2 class="text-4xl font-bold text-center mb-16">Learning Tools</h2>
                    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div class="bg-gray-700 rounded-xl p-6 card-hover cursor-pointer" onclick="showPage('notes')">
                            <div class="text-blue-400 text-4xl mb-4"><i class="fas fa-book"></i></div>
                            <h3 class="text-xl font-bold mb-3">Interactive Notes</h3>
                            <p class="text-gray-300 mb-4">Comprehensive Python notes with code snippets and examples</p>
                            <span class="text-blue-400 font-semibold">Learn More →</span>
                        </div>

                        <div class="bg-gray-700 rounded-xl p-6 card-hover cursor-pointer" onclick="showPage('compiler')">
                            <div class="text-green-400 text-4xl mb-4"><i class="fas fa-code"></i></div>
                            <h3 class="text-xl font-bold mb-3">Python Compiler</h3>
                            <p class="text-gray-300 mb-4">Advanced online Python compiler with syntax highlighting</p>
                            <span class="text-green-400 font-semibold">Start Coding →</span>
                        </div>

                        <div class="bg-gray-700 rounded-xl p-6 card-hover cursor-pointer" onclick="showPage('quiz')">
                            <div class="text-purple-400 text-4xl mb-4"><i class="fas fa-brain"></i></div>
                            <h3 class="text-xl font-bold mb-3">AI Generated Quizzes</h3>
                            <p class="text-gray-300 mb-4">Dynamic quizzes with questions that change every time</p>
                            <span class="text-purple-400 font-semibold">Take Quiz →</span>
                        </div>

                        <div class="bg-gray-700 rounded-xl p-6 card-hover cursor-pointer" onclick="showPage('chatbot')">
                            <div class="text-red-400 text-4xl mb-4"><i class="fas fa-robot"></i></div>
                            <h3 class="text-xl font-bold mb-3">AI Assistant</h3>
                            <p class="text-gray-300 mb-4">Smart chatbot to help with your Python questions</p>
                            <span class="text-red-400 font-semibold">Chat Now →</span>
                        </div>

                        <div class="bg-gray-700 rounded-xl p-6 card-hover cursor-pointer" onclick="showPage('frameworks')">
                            <div class="text-yellow-400 text-4xl mb-4"><i class="fas fa-layer-group"></i></div>
                            <h3 class="text-xl font-bold mb-3">Python Frameworks</h3>
                            <p class="text-gray-300 mb-4">Complete guide to Python frameworks with functions</p>
                            <span class="text-yellow-400 font-semibold">Explore →</span>
                        </div>

                        <div class="bg-gray-700 rounded-xl p-6 card-hover cursor-pointer" onclick="showDocumentation()">
                            <div class="text-indigo-400 text-4xl mb-4"><i class="fas fa-file-alt"></i></div>
                            <h3 class="text-xl font-bold mb-3">Project Info</h3>
                            <p class="text-gray-300 mb-4">Complete project structure</p>
                            <span class="text-indigo-400 font-semibold">View Docs →</span>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Notes Page -->
        <div id="notes" class="page">
            <div class="flex min-h-screen">
                <div class="w-64 bg-gray-800 p-4 sticky top-20 h-screen overflow-y-auto">
                    <h3 class="text-lg font-bold mb-4 text-center">PyNotes</h3>
                    <!-- Search Bar -->
                    <div class="mb-4">
                        <div class="relative">
                            <input type="text" id="notesSearch" placeholder="Search notes..." 
                                class="w-full bg-gray-700 text-white px-4 py-2 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
                                onkeyup="searchNotes()">
                            <i class="fas fa-search absolute right-3 top-3 text-gray-400"></i>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <button onclick="showNotesSection('basics')" class="w-full text-left p-3 rounded-lg hover:bg-gray-700 transition-colors" id="basics-btn">
                            <i class="fas fa-play-circle mr-2 text-blue-400"></i>Python Basics
                        </button>
                        <button onclick="showNotesSection('variables')" class="w-full text-left p-3 rounded-lg hover:bg-gray-700 transition-colors" id="variables-btn">
                            <i class="fas fa-cube mr-2 text-green-400"></i>Variables & Data Types
                        </button>
                        <button onclick="showNotesSection('control')" class="w-full text-left p-3 rounded-lg hover:bg-gray-700 transition-colors" id="control-btn">
                            <i class="fas fa-code-branch mr-2 text-purple-400"></i>Control Structures
                        </button>
                        <button onclick="showNotesSection('functions')" class="w-full text-left p-3 rounded-lg hover:bg-gray-700 transition-colors" id="functions-btn">
                            <i class="fas fa-cogs mr-2 text-red-400"></i>Functions
                        </button>
                        <button onclick="showNotesSection('classes')" class="w-full text-left p-3 rounded-lg hover:bg-gray-700 transition-colors" id="classes-btn">
                            <i class="fas fa-object-group mr-2 text-yellow-400"></i>Classes & OOP
                        </button>
                        <button onclick="showNotesSection('files')" class="w-full text-left p-3 rounded-lg hover:bg-gray-700 transition-colors" id="files-btn">
                            <i class="fas fa-file-code mr-2 text-indigo-400"></i>Python Files
                        </button>
                        <button onclick="showNotesSection('exceptions')" class="w-full text-left p-3 rounded-lg hover:bg-gray-700 transition-colors" id="exceptions-btn">
                            <i class="fas fa-exclamation-triangle mr-2 text-red-400"></i>Exception Handling
                        </button>
                        <button onclick="showNotesSection('datetime')" class="w-full text-left p-3 rounded-lg hover:bg-gray-700 transition-colors" id="datetime-btn">
                            <i class="fas fa-clock mr-2 text-blue-400"></i>Date & Time
                        </button>
                        <button onclick="showNotesSection('advanced')" class="w-full text-left p-3 rounded-lg hover:bg-gray-700 transition-colors" id="advanced-btn">
                            <i class="fas fa-star mr-2 text-yellow-400"></i>Advanced Topics
                        </button>
                    </div>
                </div>

                <div class="flex-1 p-6">
                    <div id="notes-basics" class="notes-section">
                        <h2 class="text-3xl font-bold mb-6 text-blue-400">Python Basics</h2>
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <p class="text-gray-300">Welcome to PyNotes! This section covers the fundamental concepts you need to start programming in Python. You'll learn about Python's syntax, keywords, and basic operations. Perfect for beginners, this section will give you a solid foundation for your Python journey.</p>
                        </div>
                        
                        <!-- Getting Started -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Getting Started with Python</h3>
                            <div class="space-y-4">
                                <div>
                                    <h4 class="font-bold text-blue-400 mb-2">What is Python?</h4>
                                    <p class="text-gray-300 mb-4">Python is a high-level, interpreted programming language known for its simplicity and readability. It emphasizes code readability with its notable use of significant whitespace.</p>
                                    <div class="flex flex-wrap gap-2 mb-4">
                                        <span class="keyword-tag text-white px-3 py-1 rounded-full text-sm">interpreted</span>
                                        <span class="keyword-tag text-white px-3 py-1 rounded-full text-sm">dynamic typing</span>
                                        <span class="keyword-tag text-white px-3 py-1 rounded-full text-sm">object-oriented</span>
                                        <span class="keyword-tag text-white px-3 py-1 rounded-full text-sm">high-level</span>
                                    </div>
                                </div>
                                <div>
                                    <h4 class="font-bold text-blue-400 mb-2">Installation</h4>
                                    <p class="text-gray-300">To get started with Python:</p>
                                    <ol class="list-decimal list-inside text-gray-300 ml-4 mt-2 space-y-2">
                                        <li>
                                            <strong>Download Python:</strong>
                                            <ul class="list-disc list-inside ml-6 mt-1">
                                                <li>Visit <a href="https://www.python.org/downloads/" target="_blank" class="text-blue-400 hover:text-blue-300">python.org/downloads</a></li>
                                                <li>Click on "Download Python" (latest version recommended)</li>
                                                <li>Choose the appropriate installer for your operating system:
                                                    <ul class="list-disc list-inside ml-6 mt-1">
                                                        <li>Windows: Download the Windows installer (64-bit)</li>
                                                        <li>macOS: Download the macOS installer</li>
                                                        <li>Linux: Python usually comes pre-installed</li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <strong>Run the installer:</strong>
                                            <ul class="list-disc list-inside ml-6 mt-1">
                                                <li>Double-click the downloaded file</li>
                                                <li>Important: Check "Add Python to PATH" during installation</li>
                                                <li>Click "Install Now" for standard installation</li>
                                                <li>Wait for the installation to complete</li>
                                            </ul>
                                        </li>
                                        <li>
                                            <strong>Verify installation:</strong>
                                            <ul class="list-disc list-inside ml-6 mt-1">
                                                <li>Open Command Prompt (Windows) or Terminal (macOS/Linux)</li>
                                                <li>Type <code class="bg-gray-700 px-1 py-0.5 rounded text-sm">python --version</code></li>
                                                <li>You should see something like: <code class="bg-gray-700 px-1 py-0.5 rounded text-sm">Python 3.x.x</code></li>
                                                <li>Also verify pip (Python package manager) by typing: <code class="bg-gray-700 px-1 py-0.5 rounded text-sm">pip --version</code></li>
                                            </ul>
                                        </li>
                                    </ol>
                                    <div class="mt-4 p-4 bg-blue-900 bg-opacity-20 rounded-lg">
                                        <p class="text-sm text-blue-300"><i class="fas fa-info-circle mr-2"></i><strong>Note:</strong> If you see "'python' is not recognized" error, make sure you checked "Add Python to PATH" during installation or add Python to your system's PATH manually.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Your First Program -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Your First Program</h3>
                            <div class="space-y-4">
                                <p class="text-gray-300">Let's write your first Python program! This simple example will help you understand basic Python syntax and concepts.</p>
                                
                                <div class="code-block bg-gray-900 p-4 rounded-lg">
                                    <pre><code class="language-python"># Your first Python program
print("Hello, PyHub!")
print("Welcome to Python learning!")

# Python is case-sensitive
name = "Python"
NAME = "PYTHON"  # Different variable

# Comments in Python
# This is a single-line comment
"""
This is a multi-line comment
or docstring
"""

# Simple addition program
x = 5
y = 10
print(x + y)  # Output: 15</code></pre>
                                </div>

                                <div class="mt-4 space-y-3">
                                    <h4 class="font-bold text-blue-400">Key Concepts Demonstrated:</h4>
                                    <ul class="list-disc list-inside text-gray-300 ml-4 space-y-2">
                                        <li><strong>Print Statement:</strong> Used to display output to the console</li>
                                        <li><strong>Variables:</strong> Case-sensitive containers for storing data</li>
                                        <li><strong>Comments:</strong> Both single-line (#) and multi-line (""") comments</li>
                                        <li><strong>Basic Arithmetic:</strong> Simple addition operation</li>
                                    </ul>
                                </div>

                                <div class="mt-4 p-4 bg-blue-900 bg-opacity-20 rounded-lg">
                                    <p class="text-sm text-blue-300"><i class="fas fa-lightbulb mr-2"></i><strong>Tip:</strong> Try modifying the values of x and y to see different results. This is a great way to experiment with Python!</p>
                                </div>
                            </div>
                        </div>

                        <!-- Variables and Data Types -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Variables and Data Types</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Numbers
integer = 10
float_num = 10.5

# Strings
name = "Python"
message = 'Hello, World!'

# Boolean
is_true = True
is_false = False

# None
empty = None

# Type checking
print(type(integer))  # <class 'int'>
print(type(float_num))  # <class 'float'>
print(type(name))  # <class 'str'></code></pre>
                            </div>
                        </div>

                        <!-- Basic Operations -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Basic Operations</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Arithmetic Operations
a = 10
b = 3

print(a + b)    # Addition: 13
print(a - b)    # Subtraction: 7
print(a * b)    # Multiplication: 30
print(a / b)    # Division: 3.333...
print(a // b)   # Integer Division: 3
print(a % b)    # Modulus: 1
print(a ** b)   # Exponentiation: 1000

# String Operations
first = "Hello"
last = "World"
full = first + " " + last
print(full)  # Hello World

# String Formatting
name = "Python"
age = 30
print(f"{name} is {age} years old")</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="notes-variables" class="notes-section hidden">
                        <h2 class="text-3xl font-bold mb-6 text-green-400">Variables & Data Types</h2>
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <p class="text-gray-300">In this section, you'll learn about Python's variables and data types. Understanding how to store and manipulate different types of data is crucial for programming. We'll cover numbers, strings, lists, dictionaries, and more, along with how to convert between different data types.</p>
                        </div>
                        
                        <!-- Numbers -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Numbers in Python</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Integers
x = 10
y = -5
z = 0

# Floating-point numbers
pi = 3.14159
e = 2.71828

# Complex numbers
c = 3 + 4j

# Type conversion
float_to_int = int(3.14)  # 3
int_to_float = float(5)   # 5.0

# Mathematical operations
import math
print(math.sqrt(16))      # 4.0
print(math.pow(2, 3))     # 8.0
print(math.pi)            # 3.141592653589793</code></pre>
                            </div>
                        </div>

                        <!-- Strings -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Strings</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># String creation
single_quotes = 'Hello'
double_quotes = "World"
multi_line = '''This is a
multi-line string'''

# String operations
name = "Python"
print(len(name))          # 6
print(name.upper())       # PYTHON
print(name.lower())       # python
print(name.replace('P', 'J'))  # Jython

# String slicing
text = "Hello, World!"
print(text[0:5])          # Hello
print(text[7:])           # World!
print(text[-6:])          # World!

# String formatting
age = 30
print(f"I am {age} years old")
print("I am {} years old".format(age))</code></pre>
                            </div>
                        </div>

                        <!-- Lists -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Lists</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># List creation
fruits = ['apple', 'banana', 'orange']
numbers = [1, 2, 3, 4, 5]
mixed = [1, 'hello', 3.14, True]

# List operations
fruits.append('grape')        # Add item
fruits.insert(1, 'mango')     # Insert at position
fruits.remove('banana')       # Remove item
popped = fruits.pop()         # Remove and return last item
fruits.sort()                 # Sort list
fruits.reverse()              # Reverse list

# List slicing
numbers = [0, 1, 2, 3, 4, 5]
print(numbers[1:4])           # [1, 2, 3]
print(numbers[::2])           # [0, 2, 4]
print(numbers[::-1])          # [5, 4, 3, 2, 1, 0]

# List comprehension
squares = [x**2 for x in range(5)]  # [0, 1, 4, 9, 16]</code></pre>
                            </div>
                        </div>

                        <!-- Dictionaries -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Dictionaries</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Dictionary creation
person = {
    'name': 'John',
    'age': 30,
    'city': 'New York'
}

# Dictionary operations
person['job'] = 'Developer'   # Add new key-value pair
del person['age']             # Remove key-value pair
name = person.get('name')     # Get value safely
keys = person.keys()          # Get all keys
values = person.values()      # Get all values

# Dictionary comprehension
squares = {x: x**2 for x in range(5)}
# {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="notes-control" class="notes-section hidden">
                        <h2 class="text-3xl font-bold mb-6 text-purple-400">Control Structures</h2>
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <p class="text-gray-300">Control structures are the building blocks of program logic. This section teaches you how to make decisions in your code using if statements, how to repeat actions with loops, and how to create efficient list comprehensions. These concepts are essential for writing dynamic and responsive programs.</p>
                        </div>
                        
                        <!-- If Statements -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">If Statements</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Basic if statement
age = 18
if age >= 18:
    print("You are an adult")

# if-else statement
score = 75
if score >= 60:
    print("Pass")
else:
    print("Fail")

# if-elif-else statement
grade = 85
if grade >= 90:
    print("A")
elif grade >= 80:
    print("B")
elif grade >= 70:
    print("C")
else:
    print("F")

# Nested if statements
age = 20
has_id = True
if age >= 18:
    if has_id:
        print("Can enter")
    else:
        print("Need ID")
else:
    print("Too young")</code></pre>
                            </div>
                        </div>

                        <!-- Loops -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Loops</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># For Loop
# Iterating over a range
for i in range(5):
    print(i)  # Prints 0 to 4

# Iterating over a list
fruits = ["apple", "banana", "orange"]
for fruit in fruits:
    print(fruit)

# While Loop
count = 0
while count < 5:
    print(count)
    count += 1

# Loop Control
# Break statement
for i in range(10):
    if i == 5:
        break
    print(i)

# Continue statement
for i in range(5):
    if i == 2:
        continue
    print(i)

# Nested Loops
for i in range(3):
    for j in range(2):
        print(f"i={i}, j={j}")</code></pre>
                            </div>
                        </div>

                        <!-- List Comprehensions -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">List Comprehensions</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Basic List Comprehension
squares = [x**2 for x in range(5)]
print(squares)  # [0, 1, 4, 9, 16]

# With condition
even_squares = [x**2 for x in range(10) if x % 2 == 0]
print(even_squares)  # [0, 4, 16, 36, 64]

# Nested List Comprehension
matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
flattened = [num for row in matrix for num in row]
print(flattened)  # [1, 2, 3, 4, 5, 6, 7, 8, 9]

# Dictionary Comprehension
squares_dict = {x: x**2 for x in range(5)}
print(squares_dict)  # {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="notes-functions" class="notes-section hidden">
                        <h2 class="text-3xl font-bold mb-6 text-red-400">Functions</h2>
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <p class="text-gray-300">Functions are reusable blocks of code that make your programs more organized and efficient. In this section, you'll learn how to create and use functions, work with parameters, handle errors, and follow best practices. We'll also cover advanced concepts like decorators and generators.</p>
                        </div>
                        
                        <!-- Function Basics -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Function Basics</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Basic Function
def greet(name):
    return f"Hello, {name}!"

# Function with multiple parameters
def calculate_area(length, width):
    return length * width

# Function with default parameters
def greet_user(name="Guest"):
    return f"Welcome, {name}!"

# Function with variable arguments
def sum_all(*args):
    return sum(args)

# Function with keyword arguments
def create_profile(**kwargs):
    return kwargs

# Lambda Functions
square = lambda x: x**2
multiply = lambda x, y: x * y</code></pre>
                            </div>
                        </div>

                        <!-- Function Types -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Function Types</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Generator Function
def fibonacci(n):
    a, b = 0, 1
    for _ in range(n):
        yield a
        a, b = b, a + b

# Recursive Function
def factorial(n):
    if n == 0:
        return 1
    return n * factorial(n-1)

# Closure Function
def create_counter():
    count = 0
    def counter():
        nonlocal count
        count += 1
        return count
    return counter

# Decorator Function
def timer(func):
    def wrapper(*args, **kwargs):
        import time
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"Function {func.__name__} took {end-start} seconds")
        return result
    return wrapper</code></pre>
                            </div>
                        </div>

                        <!-- Function Best Practices -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Function Best Practices</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Type Hints
def greet(name: str) -> str:
    return f"Hello, {name}!"

# Docstrings
def calculate_area(length: float, width: float) -> float:
    """
    Calculate the area of a rectangle.
    
    Args:
        length (float): The length of the rectangle
        width (float): The width of the rectangle
        
    Returns:
        float: The area of the rectangle
    """
    return length * width

# Error Handling
def divide(a: float, b: float) -> float:
    try:
        return a / b
    except ZeroDivisionError:
        raise ValueError("Cannot divide by zero")
    except TypeError:
        raise TypeError("Both arguments must be numbers")</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="notes-classes" class="notes-section hidden">
                        <h2 class="text-3xl font-bold mb-6 text-yellow-400">Classes & OOP</h2>
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <p class="text-gray-300">Object-Oriented Programming (OOP) is a powerful way to organize and structure your code. This section introduces you to classes, objects, inheritance, and other OOP concepts in Python. You'll learn how to create your own classes, use properties, and implement special methods.</p>
                        </div>
                        
                        <!-- Class Basics -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Class Basics</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Basic Class
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    def introduce(self):
        return f"Hi, I'm {self.name}, {self.age} years old"

# Class with Properties
class Circle:
    def __init__(self, radius):
        self._radius = radius
    
    @property
    def radius(self):
        return self._radius
    
    @radius.setter
    def radius(self, value):
        if value < 0:
            raise ValueError("Radius cannot be negative")
        self._radius = value
    
    @property
    def area(self):
        return 3.14 * self._radius ** 2</code></pre>
                            </div>
                        </div>

                        <!-- Inheritance -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Inheritance</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Basic Inheritance
class Animal:
    def __init__(self, name):
        self.name = name
    
    def speak(self):
        pass

class Dog(Animal):
    def speak(self):
        return f"{self.name} says Woof!"

class Cat(Animal):
    def speak(self):
        return f"{self.name} says Meow!"

# Multiple Inheritance
class FlyingMixin:
    def fly(self):
        return "Flying high!"

class SwimmingMixin:
    def swim(self):
        return "Swimming deep!"

class Duck(Animal, FlyingMixin, SwimmingMixin):
    def speak(self):
        return f"{self.name} says Quack!"</code></pre>
                            </div>
                        </div>

                        <!-- Special Methods -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Special Methods</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python">class Vector:
    def __init__(self, x, y):
        self.x = x
        self.y = y
    
    def __str__(self):
        return f"Vector({self.x}, {self.y})"
    
    def __repr__(self):
        return f"Vector({self.x}, {self.y})"
    
    def __add__(self, other):
        return Vector(self.x + other.x, self.y + other.y)
    
    def __eq__(self, other):
        return self.x == other.x and self.y == other.y
    
    def __len__(self):
        return 2
    
    def __getitem__(self, index):
        if index == 0:
            return self.x
        elif index == 1:
            return self.y
        raise IndexError("Vector index out of range")</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="notes-files" class="notes-section hidden">
                        <h2 class="text-3xl font-bold mb-6 text-indigo-400">Python Files</h2>
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <p class="text-gray-300">Learn how to work with files in Python. This section covers reading from and writing to files, handling different file formats, and best practices for file operations. Understanding file handling is crucial for working with data persistence and external resources.</p>
                        </div>
                        
                        <!-- File Basics -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">File Operations Basics</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Opening and closing files
# Method 1: Using with statement (recommended)
with open('example.txt', 'r') as file:
    content = file.read()
    print(content)

# Method 2: Traditional open/close
file = open('example.txt', 'r')
try:
    content = file.read()
    print(content)
finally:
    file.close()

# File modes
# 'r'  - Read mode (default)
# 'w'  - Write mode (overwrites existing content)
# 'a'  - Append mode (adds to existing content)
# 'x'  - Exclusive creation mode
# 'b'  - Binary mode
# 't'  - Text mode (default)
# '+' - Update mode (read and write)</code></pre>
                            </div>
                        </div>

                        <!-- Reading Files -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Reading Files</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Reading entire file
with open('example.txt', 'r') as file:
    content = file.read()  # Reads entire file as string
    print(content)

# Reading line by line
with open('example.txt', 'r') as file:
    for line in file:
        print(line.strip())  # strip() removes trailing whitespace

# Reading specific number of characters
with open('example.txt', 'r') as file:
    chunk = file.read(100)  # Reads first 100 characters
    print(chunk)

# Reading all lines into a list
with open('example.txt', 'r') as file:
    lines = file.readlines()  # Returns list of lines
    print(lines)</code></pre>
                            </div>
                        </div>

                        <!-- Writing Files -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Writing Files</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Writing to a file
with open('output.txt', 'w') as file:
    file.write('Hello, World!\n')
    file.write('This is a new line.')

# Appending to a file
with open('output.txt', 'a') as file:
    file.write('\nThis line will be appended.')

# Writing multiple lines
lines = ['Line 1', 'Line 2', 'Line 3']
with open('output.txt', 'w') as file:
    file.writelines(lines)  # Writes list of strings
    # Or using write with newlines
    file.write('\n'.join(lines))</code></pre>
                            </div>
                        </div>

                        <!-- File Handling Best Practices -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">File Handling Best Practices</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Error handling
try:
    with open('example.txt', 'r') as file:
        content = file.read()
except FileNotFoundError:
    print("File not found!")
except PermissionError:
    print("Permission denied!")
except Exception as e:
    print(f"An error occurred: {e}")

# Working with file paths
import os

# Get current directory
current_dir = os.getcwd()
print(f"Current directory: {current_dir}")

# Join paths
file_path = os.path.join('data', 'files', 'example.txt')
print(f"File path: {file_path}")

# Check if file exists
if os.path.exists(file_path):
    print("File exists!")
else:
    print("File does not exist!")</code></pre>
                            </div>
                        </div>

                        <!-- Working with Different File Types -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Working with Different File Types</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Working with CSV files
import csv

# Reading CSV
with open('data.csv', 'r') as file:
    csv_reader = csv.reader(file)
    for row in csv_reader:
        print(row)

# Writing CSV
data = [['Name', 'Age'], ['John', 30], ['Alice', 25]]
with open('output.csv', 'w', newline='') as file:
    csv_writer = csv.writer(file)
    csv_writer.writerows(data)

# Working with JSON files
import json

# Reading JSON
with open('data.json', 'r') as file:
    data = json.load(file)
    print(data)

# Writing JSON
data = {'name': 'John', 'age': 30}
with open('output.json', 'w') as file:
    json.dump(data, file, indent=4)</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="notes-exceptions" class="notes-section hidden">
                        <h2 class="text-3xl font-bold mb-6 text-red-400">Exception Handling</h2>
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <p class="text-gray-300">Learn how to handle errors and exceptions in Python. This section covers built-in exceptions, custom exception handling, and best practices for writing robust code that can handle unexpected situations gracefully.</p>
                        </div>
                        
                        <!-- Basic Exception Handling -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Basic Exception Handling</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Basic try-except block
try:
    number = int(input("Enter a number: "))
    result = 10 / number
    print(f"Result: {result}")
except ValueError:
    print("Please enter a valid number!")
except ZeroDivisionError:
    print("Cannot divide by zero!")
except Exception as e:
    print(f"An error occurred: {e}")
finally:
    print("This code always executes")

# Multiple exceptions in one line
try:
    # Some code that might raise exceptions
    pass
except (ValueError, TypeError, ZeroDivisionError) as e:
    print(f"An error occurred: {e}")</code></pre>
                            </div>
                        </div>

                        <!-- Custom Exceptions -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Custom Exceptions</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Creating custom exceptions
class CustomError(Exception):
    """Base class for custom exceptions"""
    pass

class ValidationError(CustomError):
    """Raised when validation fails"""
    def __init__(self, message, value):
        self.message = message
        self.value = value
        super().__init__(self.message)

# Using custom exceptions
def validate_age(age):
    if not isinstance(age, int):
        raise ValidationError("Age must be an integer", age)
    if age < 0:
        raise ValidationError("Age cannot be negative", age)
    if age > 150:
        raise ValidationError("Age seems invalid", age)
    return True

# Example usage
try:
    validate_age("twenty")
except ValidationError as e:
    print(f"Validation failed: {e.message}")
    print(f"Invalid value: {e.value}")</code></pre>
                            </div>
                        </div>

                        <!-- Exception Best Practices -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Exception Best Practices</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># 1. Specific exceptions first
try:
    # Some code
    pass
except ValueError:
    # Handle ValueError
    pass
except Exception:
    # Handle other exceptions
    pass

# 2. Using else clause
try:
    result = perform_operation()
except Exception as e:
    handle_error(e)
else:
    # Code here runs if no exception occurred
    process_result(result)

# 3. Context managers
from contextlib import contextmanager

@contextmanager
def error_handler():
    try:
        yield
    except Exception as e:
        print(f"Error handled: {e}")
    finally:
        print("Cleanup performed")

# Using the context manager
with error_handler():
    # Code that might raise exceptions
    pass</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="notes-datetime" class="notes-section hidden">
                        <h2 class="text-3xl font-bold mb-6 text-blue-400">Date & Time</h2>
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <p class="text-gray-300">Learn how to work with dates and times in Python. This section covers the datetime module, time formatting, timezone handling, and common date/time operations. Understanding these concepts is essential for applications that need to handle temporal data.</p>
                        </div>
                        
                        <!-- Basic Date and Time -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Basic Date and Time Operations</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Import the datetime module
from datetime import datetime, date, time, timedelta

# Get current date and time
now = datetime.now()
print(f"Current date and time: {now}")

# Get current date
today = date.today()
print(f"Current date: {today}")

# Create specific date and time
specific_date = date(2024, 3, 15)
specific_time = time(14, 30, 0)  # 14:30:00
specific_datetime = datetime(2024, 3, 15, 14, 30, 0)

# Format date and time
formatted_date = now.strftime("%Y-%m-%d")
formatted_time = now.strftime("%H:%M:%S")
formatted_datetime = now.strftime("%Y-%m-%d %H:%M:%S")
print(f"Formatted date: {formatted_date}")
print(f"Formatted time: {formatted_time}")
print(f"Formatted datetime: {formatted_datetime}")

# Parse string to datetime
date_string = "2024-03-15 14:30:00"
parsed_date = datetime.strptime(date_string, "%Y-%m-%d %H:%M:%S")
print(f"Parsed date: {parsed_date}")</code></pre>
                            </div>
                        </div>

                        <!-- Date and Time Arithmetic -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Date and Time Arithmetic</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Working with timedelta
from datetime import datetime, timedelta

# Add days to a date
today = datetime.now()
tomorrow = today + timedelta(days=1)
next_week = today + timedelta(weeks=1)
print(f"Tomorrow: {tomorrow}")
print(f"Next week: {next_week}")

# Subtract time
yesterday = today - timedelta(days=1)
last_week = today - timedelta(weeks=1)
print(f"Yesterday: {yesterday}")
print(f"Last week: {last_week}")

# Calculate time difference
date1 = datetime(2024, 3, 15)
date2 = datetime(2024, 3, 20)
difference = date2 - date1
print(f"Days between dates: {difference.days}")

# Add hours, minutes, seconds
future_time = today + timedelta(hours=2, minutes=30, seconds=45)
print(f"Future time: {future_time}")</code></pre>
                            </div>
                        </div>

                        <!-- Timezone Handling -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Timezone Handling</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Working with timezones
from datetime import datetime
import pytz

# Get current time in different timezones
utc_now = datetime.now(pytz.UTC)
print(f"UTC time: {utc_now}")

# Convert to different timezone
ny_tz = pytz.timezone('America/New_York')
ny_time = utc_now.astimezone(ny_tz)
print(f"New York time: {ny_time}")

# Create datetime with timezone
tokyo_tz = pytz.timezone('Asia/Tokyo')
tokyo_time = datetime.now(tokyo_tz)
print(f"Tokyo time: {tokyo_time}")

# List available timezones
print("Available timezones:")
for tz in pytz.all_timezones[:5]:  # Show first 5 timezones
    print(f"- {tz}")</code></pre>
                            </div>
                        </div>
                    </div>

                    <div id="notes-advanced" class="notes-section hidden">
                        <h2 class="text-3xl font-bold mb-6 text-yellow-400">Advanced Topics</h2>
                        <div class="bg-gray-700 rounded-lg p-4 mb-6">
                            <p class="text-gray-300">Explore advanced Python concepts including decorators, generators, context managers, and more. These topics will help you write more efficient and elegant Python code.</p>
                        </div>
                        
                        <!-- Decorators -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Decorators</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Basic decorator
def timer(func):
    def wrapper(*args, **kwargs):
        import time
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"Function {func.__name__} took {end-start} seconds")
        return result
    return wrapper

# Using decorator
@timer
def slow_function():
    import time
    time.sleep(1)
    return "Done!"

# Decorator with arguments
def repeat(times):
    def decorator(func):
        def wrapper(*args, **kwargs):
            for _ in range(times):
                result = func(*args, **kwargs)
            return result
        return wrapper
    return decorator

@repeat(times=3)
def greet(name):
    print(f"Hello, {name}!")</code></pre>
                            </div>
                        </div>

                        <!-- Generators -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Generators</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Generator function
def fibonacci(n):
    a, b = 0, 1
    for _ in range(n):
        yield a
        a, b = b, a + b

# Using generator
for num in fibonacci(10):
    print(num)

# Generator expression
squares = (x**2 for x in range(10))
print(list(squares))

# Infinite generator
def infinite_counter():
    count = 0
    while True:
        yield count
        count += 1

# Using infinite generator
counter = infinite_counter()
for _ in range(5):
    print(next(counter))</code></pre>
                            </div>
                        </div>

                        <!-- Context Managers -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Context Managers</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Class-based context manager
class DatabaseConnection:
    def __init__(self, host, port):
        self.host = host
        self.port = port
        self.connection = None

    def __enter__(self):
        print(f"Connecting to {self.host}:{self.port}")
        self.connection = "Connected"
        return self

    def __exit__(self, exc_type, exc_val, exc_tb):
        print("Closing connection")
        self.connection = None

# Using context manager
with DatabaseConnection("localhost", 5432) as db:
    print(f"Using connection: {db.connection}")

# Function-based context manager
from contextlib import contextmanager

@contextmanager
def temporary_file(filename):
    try:
        file = open(filename, 'w')
        yield file
    finally:
        file.close()
        print(f"File {filename} closed")</code></pre>
                            </div>
                        </div>

                        <!-- Operator Precedence -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Operator Precedence and Associativity</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Operator Precedence (from highest to lowest)
# 1. Parentheses ()
# 2. Exponentiation **
# 3. Unary operators +x, -x, ~x
# 4. Multiplication *, Division /, Floor Division //, Modulus %
# 5. Addition +, Subtraction -
# 6. Bitwise shifts <<, >>
# 7. Bitwise AND &
# 8. Bitwise XOR ^
# 9. Bitwise OR |
# 10. Comparison operators ==, !=, >, >=, <, <=
# 11. Identity operators is, is not
# 12. Membership operators in, not in
# 13. Logical NOT not
# 14. Logical AND and
# 15. Logical OR or

# Examples
result1 = 2 + 3 * 4  # Multiplication first: 2 + (3 * 4) = 14
result2 = (2 + 3) * 4  # Parentheses first: 5 * 4 = 20

# Associativity
# Most operators are left-associative
result3 = 10 - 5 - 2  # Left to right: (10 - 5) - 2 = 3

# Exponentiation is right-associative
result4 = 2 ** 3 ** 2  # Right to left: 2 ** (3 ** 2) = 512</code></pre>
                            </div>
                        </div>

                        <!-- Keywords and Identifiers -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Keywords and Identifiers</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Python Keywords (reserved words)
# False      await      else       import     pass
# None       break      except     in         raise
# True       class      finally    is         return
# and        continue   for        lambda     try
# as         def        from       nonlocal   while
# assert     del        global     not        with
# async      elif       if         or         yield

# Valid Identifiers
valid_name = "John"  # Letters, numbers, underscore
user_age = 25        # Descriptive names
first_name = "Jane"  # Snake case (Python convention)
MAX_VALUE = 100      # Constants in uppercase

# Invalid Identifiers
# 123name = "Invalid"  # Can't start with number
# my-name = "Invalid"  # Can't use hyphen
# class = "Invalid"    # Can't use keyword

# Naming Conventions
class MyClass:       # Class names: PascalCase
    def __init__(self):
        self.instance_var = 0  # Instance variables: snake_case
        
    def my_method(self):      # Method names: snake_case</code></pre>
                            </div>
                        </div>

                        <!-- Assertions -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Python Assertions</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># Basic assertion
def divide(a, b):
    assert b != 0, "Division by zero is not allowed"
    return a / b

# Assertions for debugging
def calculate_square_root(number):
    assert number >= 0, "Cannot calculate square root of negative number"
    return number ** 0.5

# Assertions with custom messages
def validate_age(age):
    assert isinstance(age, int), "Age must be an integer"
    assert 0 <= age <= 150, "Age must be between 0 and 150"
    return True

# Using assertions in development
def process_data(data):
    assert len(data) > 0, "Data cannot be empty"
    assert all(isinstance(x, (int, float)) for x in data), "All elements must be numbers"
    return sum(data) / len(data)</code></pre>
                            </div>
                        </div>

                        <!-- JSON Handling -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Python JSON</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python">import json

# Converting Python to JSON
data = {
    "name": "John",
    "age": 30,
    "city": "New York",
    "is_student": False,
    "courses": ["Python", "JavaScript", "SQL"]
}

# Serialize to JSON string
json_string = json.dumps(data, indent=4)
print("JSON String:")
print(json_string)

# Serialize to JSON file
with open('data.json', 'w') as f:
    json.dump(data, f, indent=4)

# Reading JSON
# From string
json_data = json.loads(json_string)
print("\nPython Object:")
print(json_data)

# From file
with open('data.json', 'r') as f:
    file_data = json.load(f)
    print("\nData from file:")
    print(file_data)

# Custom JSON encoding
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age

def person_encoder(obj):
    if isinstance(obj, Person):
        return {"name": obj.name, "age": obj.age}
    raise TypeError(f"Object of type {type(obj)} is not JSON serializable")

person = Person("Alice", 25)
person_json = json.dumps(person, default=person_encoder)
print("\nCustom encoded JSON:")
print(person_json)</code></pre>
                            </div>
                        </div>

                        <!-- pip Package Manager -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">Python pip</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># pip is Python's package installer
# Common pip commands:

# Install a package
# pip install package_name

# Install specific version
# pip install package_name==1.0.0

# Upgrade a package
# pip install --upgrade package_name

# Uninstall a package
# pip uninstall package_name

# List installed packages
# pip list

# Show package details
# pip show package_name

# Create requirements.txt
# pip freeze > requirements.txt

# Install from requirements.txt
# pip install -r requirements.txt

# Using virtual environments
# python -m venv myenv
# source myenv/bin/activate  # On Unix/macOS
# myenv\Scripts\activate     # On Windows

# Example requirements.txt content:
"""
requests==2.28.1
pandas==1.5.2
numpy==1.23.5
pytest==7.2.0
"""</code></pre>
                            </div>
                        </div>

                        <!-- *args and **kwargs -->
                        <div class="bg-gray-800 rounded-lg p-6 mb-6">
                            <h3 class="text-xl font-bold mb-4">*args and **kwargs</h3>
                            <div class="code-block bg-gray-900 p-4 rounded-lg">
                                <pre><code class="language-python"># *args for variable number of arguments
def sum_all(*args):
    return sum(args)

print(sum_all(1, 2, 3, 4, 5))  # 15

# Using *args with other parameters
def greet(name, *args):
    greeting = f"Hello, {name}!"
    if args:
        greeting += f" Also hello to: {', '.join(args)}"
    return greeting

print(greet("John", "Alice", "Bob"))  # Hello, John! Also hello to: Alice, Bob

# **kwargs for keyword arguments
def print_info(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

print_info(name="John", age=30, city="New York")

# Combining *args and **kwargs
def process_data(*args, **kwargs):
    print("Positional arguments:", args)
    print("Keyword arguments:", kwargs)

process_data(1, 2, 3, name="John", age=30)

# Unpacking with * and **
def show_args(*args, **kwargs):
    print("Args:", args)
    print("Kwargs:", kwargs)

# Unpacking lists/tuples
numbers = [1, 2, 3]
show_args(*numbers)  # Args: (1, 2, 3)

# Unpacking dictionaries
person = {"name": "John", "age": 30}
show_args(**person)  # Kwargs: {'name': 'John', 'age': 30}</code></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Compiler Page -->
        <div id="compiler" class="page">
            <div class="max-w-7xl mx-auto p-6">
                <div class="flex items-center mb-4">
                    <span class="text-3xl font-bold text-green-400 mr-3">&lt;/&gt;</span>
                    <h2 class="text-2xl font-bold text-green-400">Python Online Compiler</h2>
                </div>
                <div class="flex gap-4">
                    <!-- Left side: Code Editor -->
                    <div class="flex-1 bg-gray-800 rounded-lg p-4">
                        <div class="flex items-center mb-2 flex-wrap gap-2">
                            <label for="exampleSelect" class="text-gray-300 mr-2">Load Example:</label>
                            <select id="exampleSelect" class="bg-gray-700 text-white px-2 py-1 rounded">
                                <option value="">-- Select Example --</option>
                                <option value="hello">Hello World</option>
                                <option value="calculator">Calculator</option>
                                <option value="loops">Loops & Lists</option>
                            </select>
                            <button onclick="resetCode()" class="ml-2 bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded">
                                <i class="fas fa-redo mr-1"></i>Reset
                            </button>
                            <button onclick="copyCode()" class="ml-2 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded">
                                <i class="fas fa-copy mr-1"></i>Copy
                            </button>
                        </div>
                        <textarea id="codeEditor"></textarea>
                        <div class="flex space-x-2 mt-4">
                            <button onclick="runCode()" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded flex items-center">
                                <i class="fas fa-play mr-2"></i>Run
                            </button>
                            <button onclick="clearOutput()" class="bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded flex items-center">
                                <i class="fas fa-trash mr-2"></i>Clear Output
                            </button>
                        </div>
                    </div>

                    <!-- Right side: Output Panel -->
                    <div class="w-1/3 bg-gray-800 rounded-lg p-4">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-green-400 font-mono flex items-center">
                                <i class="fas fa-terminal mr-2"></i>Output
                            </span>
                            <div class="flex space-x-2">
                                <button onclick="clearOutput()" class="text-gray-400 hover:text-white">
                                    <i class="fas fa-trash"></i>
                                </button>
                                <button onclick="copyOutput()" class="text-gray-400 hover:text-white">
                                    <i class="fas fa-copy"></i>
                                </button>
                            </div>
                        </div>
                        <div id="output" class="h-[calc(100vh-250px)] overflow-y-auto text-green-300 font-mono text-sm whitespace-pre-wrap bg-black rounded-lg p-4">Ready to run your Python code...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quiz Page -->
        <div id="quiz" class="page">
            <div class="max-w-4xl mx-auto p-6">
                <div class="text-center mb-8">
                    <h2 class="text-4xl font-bold mb-4 text-purple-400">AI Generated Python Quiz</h2>
                    <p class="text-gray-300 text-lg">Test your Python knowledge with 10 dynamically generated questions!</p>
                </div>

                <div class="bg-gray-800 rounded-lg p-6 mb-6">
                    <div class="flex flex-wrap items-center justify-between gap-4">
                        <div class="flex items-center space-x-4">
                            <select id="difficultySelect" class="bg-gray-700 text-white px-4 py-2 rounded-lg">
                                <option value="beginner" selected>Beginner</option>
                                <option value="intermediate">Intermediate</option>
                                <option value="advanced">Advanced</option>
                            </select>
                            <!--<div class="flex items-center">
                                <input type="checkbox" id="timerToggle" class="mr-2">
                                <label for="timerToggle" class="text-gray-300">Enable Timer (10s per question)</label>
                            </div>-->
                        </div>
                        <button onclick="generateNewQuiz()" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-semibold">
                            <i class="fas fa-refresh mr-2"></i>Generate New Quiz
                        </button>
                    </div>
                </div>

                <div class="bg-gray-800 rounded-lg p-4 mb-6">
                    <div class="flex justify-between items-center mb-2">
                        <span class="text-sm font-semibold">Progress</span>
                        <span class="text-sm text-gray-400">Question <span id="currentQuestion">1</span> of 10</span>
                    </div>
                    <div class="w-full bg-gray-700 rounded-full h-3">
                        <div id="progressBar" class="progress-bar bg-purple-600 h-3 rounded-full" style="width: 10%"></div>
                    </div>
                    <div id="timerDisplay" class="text-center text-lg font-mono mt-4 text-yellow-400"></div>
                </div>

                <div id="quizContainer" class="bg-gray-800 rounded-lg p-6 mb-6"></div>

                <div id="resultsContainer" class="bg-gray-800 rounded-lg p-6 hidden">
                    <div class="text-center">
                        <h3 class="text-3xl font-bold mb-4">Quiz Complete!</h3>
                        <div class="text-6xl mb-4" id="scoreEmoji">🎉</div>
                        <div class="text-2xl font-bold mb-2">Your Score: <span id="finalScore" class="text-purple-400">0</span>/10</div>
                        <div class="text-lg text-gray-300 mt-2" id="quizTimeTaken"></div>
                        <button onclick="generateNewQuiz()" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-semibold mt-4">
                            <i class="fas fa-redo mr-2"></i>Take Another Quiz
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Chatbot Page -->
        <div id="chatbot" class="page">
            <div class="flex justify-center items-start min-h-screen bg-gray-900 pt-4 pb-4">
                <div class="w-full max-w-4xl h-[85vh] flex flex-col bg-gray-800 rounded-xl shadow-2xl mx-4">
                    <!-- Compact Header -->
                    <div class="flex items-center justify-between px-4 py-3 border-b border-gray-700 bg-gray-900 rounded-t-xl">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-gray-700 rounded-full border-2 border-blue-400 overflow-hidden flex items-center justify-center">
                                <img src="images/pybot.png" alt="PyBot" class="w-10 h-10 object-cover rounded-full" />
                            </div>
                            <div>
                                <h2 class="text-lg font-bold text-white">PyBot</h2>
                                <p class="text-xs text-green-400">
                                    <span class="inline-block w-2 h-2 bg-green-400 rounded-full mr-1"></span>
                                    Python Assistant & Code Checker
                                </p>
                            </div>
                        </div>
                        <!-- Compact Control Buttons -->
                        <div class="flex items-center gap-1">
                            <button onclick="toggleChatSettings()" class="text-gray-400 hover:text-white p-1.5 rounded hover:bg-gray-700 transition-colors" title="Settings">
                                <i class="fas fa-cog text-sm"></i>
                            </button>
                            <button onclick="clearChatHistory()" class="text-gray-400 hover:text-white p-1.5 rounded hover:bg-gray-700 transition-colors" title="Clear Chat">
                                <i class="fas fa-trash text-sm"></i>
                            </button>
                            <button onclick="exportChat()" class="text-gray-400 hover:text-white p-1.5 rounded hover:bg-gray-700 transition-colors" title="Export Chat">
                                <i class="fas fa-download text-sm"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Settings Panel (Hidden by default) -->
                    <div id="chatSettings" class="hidden bg-gray-900 border-b border-gray-700 px-6 py-4">
                        <div class="space-y-4">
                            <!-- API Configuration -->
                            <div class="bg-gray-800 rounded-lg p-4">
                                <h4 class="text-sm font-semibold text-white mb-3">🔑 AI Provider Settings</h4>
                                <div class="space-y-3">
                                    <div>
                                        <label class="text-xs text-gray-300 mb-1 block">Hugging Face Token (Free)</label>
                                        <input type="password" id="hfToken" placeholder="hf_xxxxxxxxxxxxxxxxx"
                                               class="w-full bg-gray-700 text-white px-3 py-2 rounded text-sm border border-gray-600 focus:border-blue-400 focus:outline-none">
                                        <p class="text-xs text-gray-400 mt-1">Get free token at <a href="https://huggingface.co/settings/tokens" target="_blank" class="text-blue-400 hover:underline">huggingface.co/settings/tokens</a></p>
                                    </div>
                                    <div>
                                        <label class="text-xs text-gray-300 mb-1 block">Groq API Key (Free tier)</label>
                                        <input type="password" id="groqKey" placeholder="gsk_xxxxxxxxxxxxxxxxx"
                                               class="w-full bg-gray-700 text-white px-3 py-2 rounded text-sm border border-gray-600 focus:border-blue-400 focus:outline-none">
                                        <p class="text-xs text-gray-400 mt-1">Get free key at <a href="https://console.groq.com/keys" target="_blank" class="text-blue-400 hover:underline">console.groq.com/keys</a></p>
                                    </div>
                                    <div>
                                        <label class="text-xs text-gray-300 mb-1 block">Cohere API Key (Free tier)</label>
                                        <input type="password" id="cohereKey" placeholder="co-xxxxxxxxxxxxxxxxx"
                                               class="w-full bg-gray-700 text-white px-3 py-2 rounded text-sm border border-gray-600 focus:border-blue-400 focus:outline-none">
                                        <p class="text-xs text-gray-400 mt-1">Get free key at <a href="https://dashboard.cohere.ai/api-keys" target="_blank" class="text-blue-400 hover:underline">dashboard.cohere.ai/api-keys</a></p>
                                    </div>
                                    <div class="flex gap-2">
                                        <button onclick="saveAPIKeys()" class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                            <i class="fas fa-save mr-1"></i>Save Keys
                                        </button>
                                        <button onclick="testChatbotConnection()" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                            <i class="fas fa-vial mr-1"></i>Test Connection
                                        </button>
                                        <button onclick="enableDemoMode()" class="bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                            <i class="fas fa-play mr-1"></i>Demo Mode
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Chatbot Controls -->
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-gray-300">Chatbot Status</span>
                                <div class="text-sm" id="chatbotStatus">
                                    <i class="fas fa-robot text-yellow-400 mr-1"></i><span class="text-yellow-400">Setup Required</span>
                                </div>
                            </div>
                            <div class="flex items-center justify-between">
                                <span class="text-sm font-medium text-gray-300">Response Style</span>
                                <select id="responseStyle" onchange="onResponseStyleChange()" class="bg-gray-700 text-white px-3 py-1 rounded text-sm border border-gray-600 focus:border-blue-400 focus:outline-none">
                                    <option value="balanced">🎯 Balanced</option>
                                    <option value="detailed">📚 Detailed</option>
                                    <option value="concise">⚡ Concise</option>
                                    <option value="beginner">🎓 Beginner-Friendly</option>
                                </select>
                            </div>
                            <div class="flex gap-2">
                                <button onclick="viewChatbotStats()" class="bg-purple-600 hover:bg-purple-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                    <i class="fas fa-chart-bar mr-1"></i>View Stats
                                </button>
                                <button onclick="clearChatHistory()" class="bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-sm transition-colors">
                                    <i class="fas fa-trash mr-1"></i>Clear Chat
                                </button>
                            </div>
                        </div>
                    </div>
                    <!-- Scrolling Messages Area -->
                    <div class="flex-1 overflow-hidden">
                        <div id="chatMessages" class="h-full px-6 py-4 overflow-y-auto bg-gray-800 space-y-4" style="scroll-behavior:smooth;">
                            <!-- Welcome message -->
                            <div class="flex justify-start">
                                <div class="flex items-start space-x-3 max-w-4xl">
                                    <div class="w-8 h-8 bg-gray-700 rounded-full border-2 border-blue-400 overflow-hidden flex items-center justify-center flex-shrink-0">
                                        <img src="images/pybot.png" alt="PyBot" class="w-8 h-8 object-cover rounded-full" />
                                    </div>
                                    <div class="bg-gray-700 text-white px-4 py-3 rounded-2xl rounded-tl-md">
                                        <p>👋 Hi! I'm PyBot, your unified Python assistant. I can help you with:</p>
                                        <ul class="mt-2 space-y-1 text-sm">
                                            <li>• 💬 <strong>Ask questions</strong> about Python concepts and syntax</li>
                                            <li>• 🔍 <strong>Check code</strong> for errors and get instant feedback</li>
                                            <li>• 📚 <strong>Learn best practices</strong> and frameworks</li>
                                            <li>• 🚀 <strong>Get examples</strong> and learning resources</li>
                                        </ul>
                                        <p class="mt-2 text-sm text-gray-300">
                                            <strong>How to use:</strong> Type questions or switch to "Check Code" mode to analyze Python code!
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="typingIndicator" class="flex items-center space-x-2 px-6 py-2 text-gray-400 hidden">
                        <span class="w-2 h-2 bg-blue-400 rounded-full animate-bounce"></span>
                        <span class="w-2 h-2 bg-blue-400 rounded-full animate-bounce delay-75"></span>
                        <span class="w-2 h-2 bg-blue-400 rounded-full animate-bounce delay-150"></span>
                        <span>PyBot is typing...</span>
                    </div>
                    <!-- Unified Input Area -->
                    <div class="flex-shrink-0 border-t border-gray-700 bg-gray-900 rounded-b-xl">


                        <!-- Unified Input Form -->
                        <form id="unifiedInputForm" class="px-4 py-3 bg-gray-900" onsubmit="event.preventDefault(); sendUnifiedMessage();">
                            <!-- Input Mode Toggle -->
                            <div class="flex items-center gap-2 mb-2">
                                <button type="button" onclick="setInputMode('text')" id="textModeBtn" class="bg-blue-600 text-white px-3 py-1 rounded text-sm transition-colors flex items-center">
                                    <i class="fas fa-comment mr-1"></i>Ask
                                </button>
                                <button type="button" onclick="setInputMode('code')" id="codeModeBtn" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm transition-colors flex items-center">
                                    <i class="fas fa-code mr-1"></i>Check Code
                                </button>
                                <div class="flex-1"></div>
                                <span id="inputModeLabel" class="text-xs text-gray-400">Ask anything about Python</span>
                            </div>

                            <!-- Text Input Mode -->
                            <div id="textInputMode" class="flex items-center gap-2">
                                <div class="flex-1 relative">
                                    <input type="text" id="messageInput" class="w-full bg-gray-700 text-white px-4 py-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400" placeholder="Ask about Python, send code to check, or get help..." autocomplete="off">
                                </div>
                                <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg transition-colors">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>

                            <!-- Code Input Mode -->
                            <div id="codeInputMode" class="hidden">
                                <div class="bg-gray-800 rounded-lg border border-gray-600 overflow-hidden mb-2">
                                    <div class="bg-gray-700 px-3 py-2 border-b border-gray-600 flex items-center justify-between">
                                        <span class="text-sm text-gray-300"><i class="fas fa-code text-blue-400 mr-2"></i>Python Code</span>
                                        <div class="flex items-center gap-2">
                                            <button type="button" onclick="clearCodeInput()" class="text-gray-400 hover:text-white text-xs">
                                                <i class="fas fa-trash mr-1"></i>Clear
                                            </button>
                                            <button type="button" onclick="insertCodeExample()" class="text-gray-400 hover:text-white text-xs">
                                                <i class="fas fa-lightbulb mr-1"></i>Example
                                            </button>
                                        </div>
                                    </div>
                                    <textarea id="codeInput"
                                              placeholder="# Paste your Python code here for checking
def hello():
    print('Hello, World!')
hello()"
                                              class="w-full bg-gray-800 text-white p-3 font-mono text-sm resize-none border-none focus:outline-none"
                                              rows="6"
                                              onkeydown="handleCodeInputKeydown(event)"></textarea>
                                </div>
                                <div class="flex items-center gap-2">
                                    <div class="flex-1 text-xs text-gray-400">
                                        <i class="fas fa-info-circle mr-1"></i>Code will be checked for errors and executed safely
                                    </div>
                                    <button type="submit" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors">
                                        <i class="fas fa-check-circle mr-1"></i>Check Code
                                    </button>
                                </div>
                            </div>
                        </form>

                    </div>
                </div>
            </div>
        </div>

        <!-- Frameworks Page -->
        <div id="frameworks" class="page">
            <div class="max-w-7xl mx-auto px-4 py-8">
                <div class="bg-gray-800 rounded-lg shadow-xl p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">Python Frameworks</h2>
                        <div class="flex space-x-2">
                            <button onclick="filterFrameworks('all')" data-category="all" class="bg-yellow-600 text-white px-4 py-2 rounded">All</button>
                            <button onclick="filterFrameworks('web')" data-category="web" class="bg-gray-700 text-white px-4 py-2 rounded">Web</button>
                            <button onclick="filterFrameworks('data')" data-category="data" class="bg-gray-700 text-white px-4 py-2 rounded">Data</button>
                            <button onclick="filterFrameworks('ai')" data-category="ai" class="bg-gray-700 text-white px-4 py-2 rounded">AI</button>
                            <button onclick="filterFrameworks('dev')" data-category="dev" class="bg-gray-700 text-white px-4 py-2 rounded">Dev</button>
                            <button onclick="filterFrameworks('db')" data-category="db" class="bg-gray-700 text-white px-4 py-2 rounded">DB</button>
                            <button onclick="filterFrameworks('net')" data-category="net" class="bg-gray-700 text-white px-4 py-2 rounded">Net</button>
                            <button onclick="filterFrameworks('gui')" data-category="gui" class="bg-gray-700 text-white px-4 py-2 rounded">GUI</button>
                            <button onclick="filterFrameworks('game')" data-category="game" class="bg-gray-700 text-white px-4 py-2 rounded">Game</button>
                            <button onclick="filterFrameworks('security')" data-category="security" class="bg-gray-700 text-white px-4 py-2 rounded">Security</button>
                </div>
                        </div>
                    <div id="frameworksGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                    </div>
            </div>
        </div>
    </div>

    <!-- Code Analyzer Modal -->
    <div id="codeAnalyzerModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-gray-800 rounded-lg max-w-4xl max-h-[90vh] overflow-y-auto m-4 w-full">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">🔍 Python Code Analyzer</h3>
                    <button onclick="closeCodeAnalyzer()" class="text-gray-400 hover:text-white">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-300 mb-2">Paste your Python code here:</label>
                        <textarea id="codeAnalyzerInput" class="w-full h-64 bg-gray-700 text-white p-4 rounded-lg font-mono text-sm" placeholder="# Paste your Python code here...
def example_function():
    print('Hello, World!')
    return True"></textarea>
                    </div>
                    <div class="flex gap-3">
                        <button onclick="analyzeCode()" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg">
                            <i class="fas fa-search mr-2"></i>Analyze Code
                        </button>
                        <button onclick="optimizeCode()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg">
                            <i class="fas fa-magic mr-2"></i>Optimize
                        </button>
                        <button onclick="explainCode()" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg">
                            <i class="fas fa-book mr-2"></i>Explain
                        </button>
                        <button onclick="clearCodeAnalyzer()" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg">
                            <i class="fas fa-trash mr-2"></i>Clear
                        </button>
                    </div>
                    <div id="codeAnalysisResult" class="hidden bg-gray-900 p-4 rounded-lg">
                        <h4 class="text-lg font-semibold mb-2">Analysis Result:</h4>
                        <div id="analysisContent" class="text-gray-300"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Code Templates Modal -->
    <div id="codeTemplatesModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-gray-800 rounded-lg max-w-4xl max-h-[90vh] overflow-y-auto m-4 w-full">
            <div class="p-6">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-2xl font-bold">📋 Python Code Templates</h3>
                    <button onclick="closeCodeTemplates()" class="text-gray-400 hover:text-white">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4" id="templatesGrid">
                    <!-- Templates will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <!-- Documentation Modal -->
    <div id="docModal" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-gray-800 rounded-xl max-w-4xl w-full max-h-96 overflow-y-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-2xl font-bold">Project Info</h3>
                        <button onclick="closeDocumentation()" class="text-gray-400 hover:text-white">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    <div class="text-left">
                        <pre class="bg-gray-900 p-4 rounded-lg text-sm text-green-400">
PyHub v1.0.0

A complete Python learning platform with the following features:

├── Home: Overview and navigation for all tools
├── Notes: Interactive, categorized Python notes with code examples and search
├── Compiler: Online Python code editor and runner (Pyodide-based)
├── Quiz: AI-generated quizzes to test your Python knowledge
├── Chatbot: AI assistant (PyBot) for Python Q&A and help
├── Frameworks: Guide and search for popular Python frameworks
└── Project Info: This info modal, version, and structure
                        </pre>


        <script>
            let editor;
            let currentQuiz = [];
            let currentQuestionIndex = 0;
            let userAnswers = [];
            let score = 0;
            let messageCount = 0;
            let filteredFrameworks = [];
            let currentCategory = 'all';
            let currentNotesSection = 'basics';

            // Timer variables
            let timerInterval = null;
            let timeRemaining = 0;
            const timerDuration = 10; // Seconds per question
            let quizStartTime = null;

            // Page Navigation
            function showPage(pageId) {
                // Hide all pages
                document.querySelectorAll('.page').forEach(page => {
                    page.classList.remove('active');
                });
                
                // Show selected page
                document.getElementById(pageId).classList.add('active');
                
                // Update navigation
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('bg-yellow-600');
                });

                // Find and highlight the correct nav button
                const navButtons = document.querySelectorAll('.nav-btn');
                navButtons.forEach(btn => {
                    if (btn.onclick && btn.onclick.toString().includes(`'${pageId}'`)) {
                        btn.classList.add('bg-yellow-600');
                    }
                });
                
                // Initialize page-specific functionality
                if (pageId === 'notes') {
                    initializeNotes();
                } else if (pageId === 'compiler') {
                    initializeCompiler();
                } else if (pageId === 'quiz') {
                    generateNewQuiz();
                } else if (pageId === 'frameworks') {
                    initializeFrameworks();
                } else if (pageId === 'chatbot') {
                    initializeChatbot();
                }
            }

            // Chatbot Section
            function initializeChatbot() {
                // Show welcome message if chat is empty
                const chatMessages = document.getElementById('chatMessages');
                if (chatMessages && chatMessages.children.length === 0) {
                    showPyBotWelcome();
                }

                // Auto-enable demo mode if no API keys are configured
                const hfToken = localStorage.getItem('hf_token');
                const groqKey = localStorage.getItem('groq_key');
                const cohereKey = localStorage.getItem('cohere_key');
                const demoMode = localStorage.getItem('demo_mode');

                if (!hfToken && !groqKey && !cohereKey && demoMode !== 'true') {
                    // Auto-enable demo mode for better user experience
                    localStorage.setItem('demo_mode', 'true');
                    updateChatbotStatus();
                    setTimeout(() => {
                        addMessage('🎭 Demo mode automatically enabled! I can help you with Python questions using built-in knowledge. For full AI capabilities, configure API keys in settings.');
                    }, 1000);
                }
            }

            // Notes Section
            function initializeNotes() {
                showNotesSection('basics');
                if (typeof Prism !== 'undefined') {
                    Prism.highlightAll();
                }
            }

            function showNotesSection(sectionId) {
                document.querySelectorAll('.notes-section').forEach(section => {
                    section.classList.add('hidden');
                });
                
                document.querySelectorAll('[id$="-btn"]').forEach(btn => {
                    btn.classList.remove('section-active');
                });
                
                document.getElementById('notes-' + sectionId).classList.remove('hidden');
                document.getElementById(sectionId + '-btn').classList.add('section-active');
                
                currentNotesSection = sectionId;
            }

            // Search functionality for notes
            function searchNotes() {
                const searchTerm = document.getElementById('notesSearch').value.toLowerCase();
                const sections = document.querySelectorAll('.notes-section');
                const buttons = document.querySelectorAll('[id$="-btn"]');
                
                // Hide all sections first
                sections.forEach(section => {
                    section.classList.add('hidden');
                });
                
                // Reset all buttons
                buttons.forEach(btn => {
                    btn.classList.remove('section-active');
                });
                
                // If search is empty, show the current section
                if (!searchTerm) {
                    showNotesSection(currentNotesSection);
                    return;
                }
                
                // Search through all sections
                sections.forEach(section => {
                    const content = section.textContent.toLowerCase();
                    const sectionId = section.id.replace('notes-', '');
                    
                    if (content.includes(searchTerm)) {
                        section.classList.remove('hidden');
                        document.getElementById(sectionId + '-btn').classList.add('section-active');
                        
                        // Highlight matching text
                        const elements = section.querySelectorAll('h2, h3, p, pre');
                        elements.forEach(element => {
                            const text = element.textContent;
                            if (text.toLowerCase().includes(searchTerm)) {
                                element.innerHTML = text.replace(
                                    new RegExp(searchTerm, 'gi'),
                                    match => `<span class="bg-yellow-500 text-black">${match}</span>`
                                );
                            }
                        });
                    }
                });
            }

            // Compiler Section
            let pyodideReadyPromise = null;
            let pyodide = null;

            function initializeCompiler() {
                if (!editor) {
                    // Initialize CodeMirror
                    editor = CodeMirror.fromTextArea(document.getElementById('codeEditor'), {
                        mode: 'python',
                        theme: 'dracula',
                        lineNumbers: true,
                        autoCloseBrackets: true,
                        matchBrackets: true,
                        styleActiveLine: true,
                        indentUnit: 4,
                        lineWrapping: true,
                        extraKeys: {"Tab": "indentMore", "Shift-Tab": "indentLess"}
                    });

                    // Set default code
                    editor.setValue(defaultCode);

                    // Add event listener for example selection
                    document.getElementById('exampleSelect').addEventListener('change', function() {
                        loadExample(this.value);
                    });
                }
            }

            async function ensurePyodideLoaded() {
                if (!pyodideReadyPromise) {
                    pyodideReadyPromise = loadPyodide();
                    pyodide = await pyodideReadyPromise;
                }
                return pyodide;
            }

            async function runCode() {
                if (!editor) return;
                const code = editor.getValue();
                const outputDiv = document.getElementById('output');
                if (!code.trim()) {
                    outputDiv.textContent = 'Error: No code to execute!';
                    return;
                }
                outputDiv.textContent = 'Running...\n';
                await ensurePyodideLoaded();
                let output = '';
                pyodide.setStdout({ batched: (s) => { output += s; } });
                pyodide.setStderr({ batched: (s) => { output += s; } });
                try {
                    await pyodide.runPythonAsync(code);
                    outputDiv.textContent = output || 'Program executed successfully!\n(No output generated)';
                } catch (err) {
                    outputDiv.textContent = 'Error:\n' + err;
                }
            }

            const examples = {
                hello: `# Hello World Program
print("Hello, World!")
print("Welcome to PyHub!")

name = "Python Learner"
print(f"Nice to meet you, {name}!")`,

                calculator: `# Simple Calculator
print("=== PyHub Calculator ===")

def add(x, y):
    return x + y

def subtract(x, y):
    return x - y

# Get user input
num1 = 10
num2 = 5

print(f"{num1} + {num2} = {add(num1, num2)}")
print(f"{num1} - {num2} = {subtract(num1, num2)}")`,

                loops: `# Loops and Lists Examples
print("=== Loops and Lists Demo ===")

# List operations
fruits = ["apple", "banana", "orange"]
print("Fruits:", fruits)

# For loop
for i, fruit in enumerate(fruits, 1):
    print(f"{i}. {fruit.title()}")

# List comprehension
squares = [x**2 for x in range(1, 6)]
print("Squares:", squares)

# While loop
count = 0
while count < 3:
    print(f"Count: {count}")
    count += 1`
            };

            function loadExample(exampleKey) {
                if (exampleKey && examples[exampleKey] && editor) {
                    editor.setValue(examples[exampleKey]);
                    document.getElementById('exampleSelect').value = '';
                }
            }

            // Add these helpers for Programmiz-like features
            const defaultCode = `# Write your Python code here...\nprint('Welcome to PyHub Python Compiler!')\n\n# Example: Simple calculation\nx = 10\ny = 20\nresult = x + y\nprint(f'The sum of {x} and {y} is {result}')`;

            function copyCode() {
                if (editor) {
                    navigator.clipboard.writeText(editor.getValue());
                }
            }

            function resetCode() {
                if (editor) {
                    editor.setValue(defaultCode);
                }
            }

            // Update clearCode to reset to defaultCode
            function clearCode() {
                resetCode();
            }

            function clearOutput() {
                document.getElementById('output').textContent = 'Output cleared. Ready for next execution...';
            }

            // Quiz Section
            const questionPool = {
                beginner: [
                    {
                        question: "Which of the following is the correct way to declare a variable in Python?",
                        options: ["int x = 5", "x = 5", "var x = 5", "declare x = 5"],
                        correct: 1,
                        explanation: "In Python, you declare a variable simply as x = 5."
                    },
                    {
                        question: "What will be the output of: print(type(5.0))",
                        options: ["class 'int'", "class 'float'", "class 'double'", "class 'number'"],
                        correct: 1,
                        explanation: "5.0 is a float, so type(5.0) returns <class 'float'>."
                    },
                    {
                        question: "Which operator is used for exponentiation in Python?",
                        options: ["^", "**", "exp()", "pow"],
                        correct: 1,
                        explanation: "The ** operator is used for exponentiation in Python."
                    },
                    {
                        question: "What is the correct way to create a list in Python?",
                        options: ["list = {1, 2, 3}", "list = [1, 2, 3]", "list = (1, 2, 3)", "list = <1, 2, 3>"],
                        correct: 1,
                        explanation: "Lists are created with square brackets: [1, 2, 3]."
                    },
                    {
                        question: "Which method is used to add an element to the end of a list?",
                        options: ["add()", "insert()", "append()", "push()"],
                        correct: 2,
                        explanation: "append() adds an element to the end of a list."
                    },
                    {
                        question: "What will be the output of: print(\"Hello\" + \" \" + \"World\")",
                        options: ["Hello World", "\"Hello World\"", "HelloWorld", "Error"],
                        correct: 0,
                        explanation: "String concatenation with spaces results in 'Hello World'."
                    },
                    {
                        question: "Which of the following is used to take input from the user in Python?",
                        options: ["input()", "get()", "read()", "scan()"],
                        correct: 0,
                        explanation: "input() is used to take user input."
                    },
                    {
                        question: "What is the correct syntax for a for loop in Python?",
                        options: ["for i in range(5):", "for (i=0; i<5; i++):", "for i = 1 to 5:", "foreach i in range(5):"],
                        correct: 0,
                        explanation: "The correct syntax is 'for i in range(5):'."
                    },
                    {
                        question: "Which keyword is used to define a function in Python?",
                        options: ["function", "def", "define", "func"],
                        correct: 1,
                        explanation: "The 'def' keyword is used to define a function."
                    },
                    {
                        question: "What will be the output of: print(len(\"Python\"))",
                        options: ["5", "6", "7", "Error"],
                        correct: 1,
                        explanation: "'Python' has 6 characters, so len('Python') is 6."
                    },
                    {
                        question: "Which of the following is a valid variable name in Python?",
                        options: ["1variable", "my-variable", "my_variable", "my variable"],
                        correct: 2,
                        explanation: "Python variable names must not start with a digit and cannot contain hyphens or spaces. 'my_variable' is valid."
                    },
                    {
                        question: "What does the '//' operator do in Python?",
                        options: ["Divides and returns float", "Raises to power", "Performs floor division", "Returns remainder"],
                        correct: 2,
                        explanation: "'//' is the floor division operator, which returns the largest integer less than or equal to the division result."
                    },
                    {
                        question: "Which function is used to convert a string to an integer in Python?",
                        options: ["int()", "str()", "float()", "toInt()"],
                        correct: 0,
                        explanation: "The int() function is used to convert a string or float to an integer."
                    },
                    {
                        question: "What is the output of: print(10 % 3)?",
                        options: ["3", "1", "0", "10"],
                        correct: 1,
                        explanation: "The % operator gives the remainder. 10 % 3 is 1."
                    },
                    {
                        question: "How do you start an if statement in Python?",
                        options: ["if (x > 5) then:", "if x > 5:", "if x > 5 then", "if x > 5 { ... }"],
                        correct: 1,
                        explanation: "Python uses 'if x > 5:' with a colon and no 'then'."
                    },
                    {
                        question: "Which of these values is considered False in a Boolean context?",
                        options: ["1", "0", "\"False\"", "[1, 2]"],
                        correct: 1,
                        explanation: "The integer 0 is treated as False. Non-empty strings and lists are considered True."
                    },
                    {
                        question: "How do you write a multi-line comment in Python?",
                        options: ["/* comment */", "# comment", "// comment", "'''comment'''"],
                        correct: 3,
                        explanation: "Python uses # for single-line comments. Multiple # lines or '''comment''' make a multi-line comment."
                    },
                    {
                        question: "Which data structure does not allow duplicate values?",
                        options: ["List", "Tuple", "Set", "Dictionary"],
                        correct: 2,
                        explanation: "Sets do not allow duplicate values."
                    },
                    {
                        question: "What will be the output of: print(bool(''))?",
                        options: ["True", "False", "None", "Error"],
                        correct: 1,
                        explanation: "An empty string is considered False in Boolean context."
                    },
                    {
                        question: "Which built-in function returns the largest item in an iterable?",
                        options: ["max()", "largest()", "top()", "biggest()"],
                        correct: 0,
                        explanation: "The max() function returns the largest value from a list or other iterable."
                    }

                ],
                intermediate: [
                    {
                        question: "What will be the output of: print([1, 2, 3] * 2)",
                        options: ["[2, 4, 6]", "[1, 2, 3, 1, 2, 3]", "[1, 2, 3, 2]", "Error"],
                        correct: 1,
                        explanation: "Multiplying a list by 2 repeats its elements: [1, 2, 3, 1, 2, 3]."
                    },
                    {
                        question: "Which of the following is a mutable data type in Python?",
                        options: ["tuple", "string", "list", "int"],
                        correct: 2,
                        explanation: "Lists are mutable, others are immutable."
                    },
                    {
                        question: "What will be the output of: print(bool(0))",
                        options: ["True", "False", "0", "Error"],
                        correct: 1,
                        explanation: "0 is considered False in Python."
                    },
                    {
                        question: "Which method is used to remove whitespace from both ends of a string?",
                        options: ["strip()", "trim()", "remove()", "clean()"],
                        correct: 0,
                        explanation: "strip() removes whitespace from both ends."
                    },
                    {
                        question: "What is the difference between '==' and 'is' operators?",
                        options: ["No difference", "'==' checks value, 'is' checks identity", "'is' checks value, '==' checks identity", "Both check identity"],
                        correct: 1,
                        explanation: "'==' checks value equality, 'is' checks object identity."
                    },
                    {
                        question: "What will be the output of: print(list(range(3)))",
                        options: ["[1, 2, 3]", "[0, 1, 2]", "[0, 1, 2, 3]", "Error"],
                        correct: 1,
                        explanation: "range(3) produces 0, 1, 2."
                    },
                    {
                        question: "Which of the following is used to handle exceptions in Python?",
                        options: ["try-catch", "try-except", "catch-throw", "handle-error"],
                        correct: 1,
                        explanation: "try-except is used for exception handling."
                    },
                    {
                        question: "What will be the output of: print({1, 2, 2, 3})",
                        options: ["{1, 2, 2, 3}", "{1, 2, 3}", "[1, 2, 3]", "Error"],
                        correct: 1,
                        explanation: "Sets only store unique values, so {1, 2, 3}."
                    },
                    {
                        question: "Which method is used to get all keys from a dictionary?",
                        options: ["getKeys()", "keys()", "allKeys()", "keyList()"],
                        correct: 1,
                        explanation: "keys() returns all keys from a dictionary."
                    },
                    {
                        question: "What is the correct syntax for list comprehension?",
                        options: ["[x for x in range(5)]", "{x for x in range(5)}", "(x for x in range(5))", "All of the above"],
                        correct: 3,
                        explanation: "All are comprehensions, but only the first is a list comprehension."
                    },
                    {
                        question: "What will be the output of: print('hello'.capitalize())",
                        options: ["Hello", "hello", "HELLO", "Error"],
                        correct: 0,
                        explanation: "The capitalize() method returns the string with the first letter capitalized."
                    },
                    {
                        question: "Which keyword is used to create a generator in Python?",
                        options: ["yield", "return", "generate", "defgen"],
                        correct: 0,
                        explanation: "The 'yield' keyword is used to create a generator function in Python."
                    },
                    {
                        question: "What will be the output of: print([i for i in range(5) if i % 2 == 0])",
                        options: ["[1, 3, 5]", "[0, 2, 4]", "[2, 4]", "[0, 2]"],
                        correct: 1,
                        explanation: "This list comprehension filters even numbers: [0, 2, 4]."
                    },
                    {
                        question: "Which built-in function is used to sort a list in ascending order?",
                        options: ["order()", "arrange()", "sort()", "sorted()"],
                        correct: 3,
                        explanation: "The sorted() function returns a new sorted list."
                    },
                    {
                        question: "What does the enumerate() function return?",
                        options: ["Only values from a list", "Only indices", "Index-value pairs", "An iterator over keys"],
                        correct: 2,
                        explanation: "enumerate() returns an iterator with index-value pairs."
                    },
                    {
                        question: "What is the output of: print('Python'.find('t'))",
                        options: ["-1", "1", "2", "3"],
                        correct: 2,
                        explanation: "find() returns the index of first occurrence of 't', which is at index 2."
                    },
                    {
                        question: "How do you check the number of items in a dictionary?",
                        options: ["dict.count()", "len(dict)", "dict.length()", "count(dict)"],
                        correct: 1,
                        explanation: "len(dict) returns the number of key-value pairs in the dictionary."
                    },
                    {
                        question: "Which of the following is the correct way to open a file for writing?",
                        options: ["open('file.txt')", "open('file.txt', 'r')", "open('file.txt', 'w')", "file.open('file.txt')"],
                        correct: 2,
                        explanation: "Mode 'w' is used to open a file for writing in Python."
                    },
                    {
                        question: "What does the zip() function do?",
                        options: ["Combines two lists into a dictionary", "Pairs elements from multiple iterables", "Splits strings", "None of the above"],
                        correct: 1,
                        explanation: "zip() pairs elements from iterables into tuples."
                    },
                    {
                        question: "What is the purpose of the pass statement in Python?",
                        options: ["To pass control to another function", "To raise an exception", "To do nothing and avoid errors", "To skip a loop iteration"],
                        correct: 2,
                        explanation: "The pass statement is used as a placeholder where code is syntactically required but no action is needed."
                    }
                ],
                advanced: [
                    {
                        question: "What will be the output of: print([] or 'default')",
                        options: ["[]", "default", "True", "False"],
                        correct: 1,
                        explanation: "[] is falsy, so 'default' is returned."
                    },
                    {
                        question: "Which of the following is true about Python's GIL (Global Interpreter Lock)?",
                        options: ["It allows true parallelism for CPU-bound tasks", "It prevents multiple threads from executing Python code simultaneously", "It only affects I/O operations", "It doesn't exist in Python 3"],
                        correct: 1,
                        explanation: "The GIL prevents multiple threads from executing Python code at the same time."
                    },
                    {
                        question: "What is the difference between str and repr methods?",
                        options: ["No difference", "str for developers, repr for users", "str for users, repr for developers", "str returns string, repr returns object"],
                        correct: 2,
                        explanation: "str is for users, repr is for developers."
                    },
                    {
                        question: "What will be the output of: print(all([True, False, True]))",
                        options: ["True", "False", "[True, False, True]", "Error"],
                        correct: 1,
                        explanation: "all() returns True only if all elements are True."
                    },
                    {
                        question: "Which decorator is used to create a static method in Python?",
                        options: ["@static", "@staticmethod", "@classmethod", "@property"],
                        correct: 1,
                        explanation: "@staticmethod is used to create a static method."
                    },
                    {
                        question: "What will be the output of: print(2 ** 3 ** 2)",
                        options: ["64", "512", "256", "128"],
                        correct: 1,
                        explanation: "3 ** 2 = 9, 2 ** 9 = 512."
                    },
                    {
                        question: "Which of the following creates a shallow copy of a list?",
                        options: ["list.copy()", "list[:]", "copy.copy(list)", "All of the above"],
                        correct: 3,
                        explanation: "All listed methods create a shallow copy."
                    },
                    {
                        question: "What is the purpose of the __init__.py file in Python packages?",
                        options: ["Initialize variables", "Mark directory as package", "Import modules", "Define classes"],
                        correct: 1,
                        explanation: "__init__.py marks a directory as a Python package."
                    },
                    {
                        question: "What will be the output of: print((lambda x: x**2)(5))",
                        options: ["25", "lambda x: x**2", "5", "Error"],
                        correct: 0,
                        explanation: "The lambda returns 25 when called with 5."
                    },
                    {
                        question: "Which of the following is true about Python generators?",
                        options: ["They store all values in memory", "They are faster than lists for all operations", "They yield values one at a time using lazy evaluation", "They can only be used once"],
                        correct: 2,
                        explanation: "Generators yield values one at a time using lazy evaluation."
                    },
                    {
                        question: "What will be the output of: print((i for i in range(3)))",
                        options: ["[0, 1, 2]", "(0, 1, 2)", "<generator object>", "0 1 2"],
                        correct: 2,
                        explanation: "This creates a generator object, not a list or tuple."
                    },
                    {
                        question: "What will be the output of: print({i: i*i for i in range(3)})",
                        options: ["[0, 1, 4]", "{0: 0, 1: 1, 2: 4}", "{0: 0, 1: 1}", "Error"],
                        correct: 1,
                        explanation: "This is dictionary comprehension: {0: 0, 1: 1, 2: 4}."
                    },
                    {
                        question: "Which method is called when using 'with' statement on a custom object?",
                        options: ["__enter__ and __exit__", "__init__ and __del__", "__open__ and __close__", "__get__ and __set__"],
                        correct: 0,
                        explanation: "Context managers implement __enter__ and __exit__ methods."
                    },
                    {
                        question: "What is the output of: print((lambda x, y=2: x * y)(3))",
                        options: ["5", "6", "9", "Error"],
                        correct: 1,
                        explanation: "x=3, y=2 (default), so 3*2 = 6."
                    },
                    {
                        question: "What does the walrus operator (:=) do in Python?",
                        options: ["Assigns and returns a value", "Compares two values", "Defines a lambda function", "None of the above"],
                        correct: 0,
                        explanation: "The walrus operator allows assignment within expressions."
                    },
                    {
                        question: "What is the result of: print({1, 2, 3} & {2, 3, 4})",
                        options: ["{1, 2, 3, 4}", "{2, 3}", "{1}", "{4}"],
                        correct: 1,
                        explanation: "The '&' operator performs set intersection."
                    },
                    {
                        question: "Which of the following statements about metaclasses is true?",
                        options: ["They are instances of a class", "They define how classes behave", "They are only used in C extensions", "They are deprecated in Python 3"],
                        correct: 1,
                        explanation: "Metaclasses define class behavior at the time of class creation."
                    },
                    {
                        question: "Which of the following will result in a memory-efficient iterable?",
                        options: ["range(10**6)", "list(range(10**6))", "[x for x in range(10**6)]", "tuple(range(10**6))"],
                        correct: 0,
                        explanation: "range() is a memory-efficient iterable; it doesn't store all elements."
                    },
                    {
                        question: "What does the 'nonlocal' keyword do in Python?",
                        options: ["Declares a global variable", "Declares a class attribute", "Refers to a variable in the nearest enclosing scope", "Declares a constant"],
                        correct: 2,
                        explanation: "nonlocal allows you to modify a variable in the nearest enclosing (non-global) scope."
                    },
                    {
                        question: "What is the purpose of functools.lru_cache in Python?",
                        options: ["It caches results of expensive function calls", "It compresses function output", "It removes duplicate entries", "It loads functions lazily"],
                        correct: 0,
                        explanation: "lru_cache decorates functions to cache their return values for performance."
                    }
                ]
            };

            function shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            function generateNewQuiz() {
                const difficulty = document.getElementById('difficultySelect').value;
                const allQuestions = questionPool[difficulty] || questionPool.beginner;
                
                currentQuiz = shuffleArray(allQuestions).slice(0, 10);
                currentQuestionIndex = 0;
                userAnswers = [];
                score = 0;

                document.getElementById('quizContainer').classList.remove('hidden');
                document.getElementById('resultsContainer').classList.add('hidden');

                displayQuestion();
            }

            function displayQuestion() {
                if (currentQuestionIndex >= currentQuiz.length) {
                    showQuizResults();
                    return;
                }

                const question = currentQuiz[currentQuestionIndex];
                const container = document.getElementById('quizContainer');

                document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
                const totalQuestions = currentQuiz.length;
                document.getElementById('progressBar').style.width = ((currentQuestionIndex + 1) / totalQuestions) * 100 + '%';

                container.innerHTML = `
                    <div class="question-card">
                        <h3 class="text-xl font-bold mb-4 text-purple-400">
                            Question ${currentQuestionIndex + 1} of ${totalQuestions}
                        </h3>
                        <p class="text-lg text-gray-100 mb-6">${question.question}</p>
                        
                        <div class="space-y-3 mb-6">
                            ${question.options.map((option, index) => `
                                <button onclick="selectAnswer(${index})" 
                                        class="option-btn w-full text-left p-4 bg-gray-700 hover:bg-gray-600 rounded-lg border border-transparent hover:border-purple-400"
                                        id="option-${index}">
                                    <span class="font-semibold text-purple-400">${String.fromCharCode(65 + index)}.</span>
                                    <span class="ml-3">${option}</span>
                                </button>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            function selectAnswer(selectedIndex) {
                const question = currentQuiz[currentQuestionIndex];
                userAnswers[currentQuestionIndex] = selectedIndex;

                const options = document.querySelectorAll('.option-btn');
                options.forEach((option, index) => {
                    option.disabled = true;
                    option.classList.remove('hover:bg-gray-600', 'hover:border-purple-400');
                    
                    if (index === question.correct) {
                        option.classList.add('correct');
                    } else if (index === selectedIndex) {
                        option.classList.add('incorrect');
                    }
                });

                // Show explanation
                const container = document.getElementById('quizContainer');
                const explanationDiv = document.createElement('div');
                explanationDiv.className = 'mt-4 p-4 bg-gray-700 rounded-lg';
                explanationDiv.innerHTML = `
                    <p class="text-lg font-semibold ${selectedIndex === question.correct ? 'text-green-400' : 'text-red-400'}">
                        ${selectedIndex === question.correct ? '✓ Correct!' : '✗ Incorrect'}
                    </p>
                    <p class="mt-2 text-gray-300">${question.explanation}</p>
                    <div class="flex justify-end mt-4">
                        <button onclick="nextQuestion()" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg font-semibold transition-colors">
                            Next <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                `;
                container.appendChild(explanationDiv);

                if (selectedIndex === question.correct) {
                    score++;
                }
            }

            function nextQuestion() {
                currentQuestionIndex++;
                if (currentQuestionIndex >= currentQuiz.length) {
                    showQuizResults();
                } else {
                    displayQuestion();
                }
            }

            function showQuizResults() {
                const accuracy = Math.round((score / currentQuiz.length) * 100);
                
                document.getElementById('quizContainer').classList.add('hidden');
                document.getElementById('resultsContainer').classList.remove('hidden');

                document.getElementById('finalScore').textContent = score;

                let emoji = accuracy >= 80 ? '🏆' : accuracy >= 60 ? '👍' : '📚';
                document.getElementById('scoreEmoji').textContent = emoji;
            }

            // Chatbot Section with Local Smart AI
            let chatHistory = [];
            let conversationHistory = [];

            // Local Python knowledge as fallback
            const pythonKnowledge = {
                'list': {
                    keywords: ['list', 'array', 'collection'],
                    response: `Python lists are ordered, mutable collections. Here's how to work with them:

**Creating Lists:**
\`\`\`python
my_list = []
fruits = ['apple', 'banana', 'orange']
numbers = [1, 2, 3, 4, 5]
\`\`\`

**Common Operations:**
- \`fruits.append('grape')\` - Add to end
- \`fruits.insert(0, 'mango')\` - Insert at position
- \`fruits.remove('banana')\` - Remove by value
- \`len(fruits)\` - Get length`
                },
                'function': {
                    keywords: ['function', 'def', 'method'],
                    response: `Functions in Python are reusable blocks of code:

**Basic Function:**
\`\`\`python
def greet(name):
    return f"Hello, {name}!"

def calculate_area(length, width):
    return length * width

message = greet("Python")
print(message)
\`\`\`

**Function with Parameters:**
\`\`\`python
def calculate_area(length, width=1):
    return length * width

area = calculate_area(5, 3)  # 15
\`\`\``
                },
                'loop': {
                    keywords: ['loop', 'for', 'while', 'iteration'],
                    response: `Python has two main types of loops:

**For Loops:**
\`\`\`python
fruits = ['apple', 'banana', 'orange']
for fruit in fruits:
    print(fruit)

for i in range(5):
    print(f"Count: {i}")
\`\`\`

**While Loops:**
\`\`\`python
count = 0
while count < 5:
    print(f"Count: {count}")
    count += 1
\`\`\``
                }
            };

            // AI Chatbot Integration with Multiple Providers
            async function callSmartChatbot(message) {
                try {
                    // Get selected response style
                    const responseStyle = document.getElementById('responseStyle')?.value || 'balanced';

                    // Add style instruction to message based on selection
                    let styledMessage = message;
                    const pythonContext = "You are PyBot, a helpful Python programming assistant. Focus on Python-related questions and provide accurate, helpful responses.";

                    switch(responseStyle) {
                        case 'detailed':
                            styledMessage = `${pythonContext} Please provide a detailed, comprehensive explanation with examples: ${message}`;
                            break;
                        case 'concise':
                            styledMessage = `${pythonContext} Please provide a brief, concise answer: ${message}`;
                            break;
                        case 'beginner':
                            styledMessage = `${pythonContext} Please explain in beginner-friendly terms with simple examples: ${message}`;
                            break;
                        case 'balanced':
                        default:
                            styledMessage = `${pythonContext} ${message}`;
                            break;
                    }

                    // Check if any API keys are configured
                    const hfToken = localStorage.getItem('hf_token');
                    const groqKey = localStorage.getItem('groq_key');
                    const cohereKey = localStorage.getItem('cohere_key');
                    const demoMode = localStorage.getItem('demo_mode');

                    // If demo mode is enabled, use it directly
                    if (demoMode === 'true') {
                        return getDemoResponse(message);
                    }

                    // If no API keys are configured, suggest demo mode
                    if (!hfToken && !groqKey && !cohereKey) {
                        throw new Error('No API keys configured. Please enable demo mode or add API keys in settings.');
                    }

                    // Try multiple AI providers in order of preference
                    const providers = [];
                    if (hfToken) providers.push({ name: 'huggingface', func: callHuggingFaceAPI });
                    if (groqKey) providers.push({ name: 'groq', func: callGroqAPI });
                    if (cohereKey) providers.push({ name: 'cohere', func: callCohereAPI });

                    for (const provider of providers) {
                        try {
                            const response = await provider.func(styledMessage);

                            // Add to conversation history for context
                            conversationHistory.push({ role: 'user', content: message });
                            conversationHistory.push({ role: 'assistant', content: response.message });

                            return response;
                        } catch (error) {
                            console.log(`${provider.name} failed, trying next provider...`);
                            continue;
                        }
                    }

                    throw new Error('All configured AI providers failed');

                } catch (error) {
                    console.error('Smart Chatbot Error:', error);

                    // Try demo mode as final fallback
                    const demoMode = localStorage.getItem('demo_mode');
                    if (demoMode === 'true') {
                        return getDemoResponse(message);
                    }

                    // If no demo mode, suggest enabling it
                    throw new Error('Chatbot failed. Please enable demo mode in settings or configure API keys.');
                }
            }

            // API Key Management
            function saveAPIKeys() {
                const hfToken = document.getElementById('hfToken').value;
                const groqKey = document.getElementById('groqKey').value;
                const cohereKey = document.getElementById('cohereKey').value;

                if (hfToken) localStorage.setItem('hf_token', hfToken);
                if (groqKey) localStorage.setItem('groq_key', groqKey);
                if (cohereKey) localStorage.setItem('cohere_key', cohereKey);

                updateChatbotStatus();
                showNotification('API keys saved successfully!', 'success');
            }

            function loadAPIKeys() {
                const hfToken = localStorage.getItem('hf_token');
                const groqKey = localStorage.getItem('groq_key');
                const cohereKey = localStorage.getItem('cohere_key');

                if (hfToken) document.getElementById('hfToken').value = hfToken;
                if (groqKey) document.getElementById('groqKey').value = groqKey;
                if (cohereKey) document.getElementById('cohereKey').value = cohereKey;

                updateChatbotStatus();
            }

            function updateChatbotStatus() {
                const hfToken = localStorage.getItem('hf_token');
                const groqKey = localStorage.getItem('groq_key');
                const cohereKey = localStorage.getItem('cohere_key');
                const demoMode = localStorage.getItem('demo_mode');
                const statusElement = document.getElementById('chatbotStatus');

                if (demoMode === 'true') {
                    statusElement.innerHTML = '<i class="fas fa-robot text-purple-400 mr-1"></i><span class="text-purple-400">Demo Mode</span>';
                } else if (hfToken || groqKey || cohereKey) {
                    statusElement.innerHTML = '<i class="fas fa-robot text-green-400 mr-1"></i><span class="text-green-400">AI Ready</span>';
                } else {
                    statusElement.innerHTML = '<i class="fas fa-robot text-yellow-400 mr-1"></i><span class="text-yellow-400">Setup Required</span>';
                }
            }

            // Enable demo mode for testing without API keys
            function enableDemoMode() {
                localStorage.setItem('demo_mode', 'true');
                updateChatbotStatus();
                addMessage('🎭 Demo mode enabled! I can now respond to your Python questions using built-in knowledge. Try asking "What are Python lists?" or "How do functions work?"');
                showNotification('Demo mode enabled! Chatbot ready to help.', 'success');
            }

            // Demo response function with comprehensive Python knowledge
            function getDemoResponse(message) {
                const lowerMessage = message.toLowerCase();

                if (lowerMessage.includes('list') || lowerMessage.includes('array')) {
                    return {
                        message: `**Python Lists** 📝

Lists are ordered collections that can store multiple items:

\`\`\`python
# Creating lists
fruits = ['apple', 'banana', 'orange']
numbers = [1, 2, 3, 4, 5]
mixed = [1, 'hello', 3.14, True]

# Accessing items
print(fruits[0])     # apple (first item)
print(fruits[-1])    # orange (last item)
print(fruits[1:3])   # ['banana', 'orange'] (slice)

# Adding items
fruits.append('grape')        # Add to end
fruits.insert(1, 'mango')     # Insert at position

# Removing items
fruits.remove('banana')       # Remove specific item
last_fruit = fruits.pop()     # Remove and return last

# List methods
fruits.sort()                 # Sort alphabetically
fruits.reverse()              # Reverse order
print(len(fruits))            # Get length
\`\`\`

**Common operations:**
- \`append()\` - Add item to end
- \`insert()\` - Add item at position
- \`remove()\` - Remove specific item
- \`pop()\` - Remove and return item
- \`sort()\` - Sort the list
- \`len()\` - Get list length`,
                        provider: 'demo'
                    };
                }

                if (lowerMessage.includes('function') || lowerMessage.includes('def')) {
                    return {
                        message: `**Python Functions** 🔧

Functions are reusable blocks of code that perform specific tasks:

\`\`\`python
# Basic function
def greet(name):
    return f"Hello, {name}!"

# Function with multiple parameters
def calculate_area(length, width):
    return length * width

# Function with default parameter
def power(base, exponent=2):
    return base ** exponent

# Function with variable arguments
def sum_all(*numbers):
    return sum(numbers)

# Using functions
message = greet("Python")           # "Hello, Python!"
area = calculate_area(5, 3)         # 15
square = power(4)                   # 16 (uses default)
cube = power(4, 3)                  # 64
total = sum_all(1, 2, 3, 4, 5)     # 15
\`\`\`

**Key concepts:**
- Use \`def\` keyword to define functions
- Parameters go in parentheses
- Use \`return\` to send back values
- Functions help organize and reuse code
- Can have default parameter values`,
                        provider: 'demo'
                    };
                }

                if (lowerMessage.includes('loop') || lowerMessage.includes('for') || lowerMessage.includes('while')) {
                    return {
                        message: `**Python Loops** 🔄

Loops let you repeat code multiple times:

\`\`\`python
# For loop - iterate over a sequence
fruits = ['apple', 'banana', 'orange']
for fruit in fruits:
    print(f"I like {fruit}")

# For loop with range
for i in range(5):
    print(f"Number: {i}")  # 0, 1, 2, 3, 4

# For loop with enumerate (get index and value)
for index, fruit in enumerate(fruits):
    print(f"{index}: {fruit}")

# While loop - repeat while condition is true
count = 0
while count < 5:
    print(f"Count: {count}")
    count += 1

# Loop control
for i in range(10):
    if i == 3:
        continue  # Skip this iteration
    if i == 7:
        break     # Exit the loop
    print(i)
\`\`\`

**Types of loops:**
- \`for\` - Iterate over sequences
- \`while\` - Repeat while condition is true
- \`break\` - Exit loop early
- \`continue\` - Skip current iteration`,
                        provider: 'demo'
                    };
                }

                if (lowerMessage.includes('dictionary') || lowerMessage.includes('dict')) {
                    return {
                        message: `**Python Dictionaries** 📚

Dictionaries store key-value pairs:

\`\`\`python
# Creating dictionaries
person = {
    'name': 'John',
    'age': 30,
    'city': 'New York'
}

# Accessing values
print(person['name'])        # John
print(person.get('age'))     # 30 (safe access)

# Adding/updating values
person['job'] = 'Developer'  # Add new key-value
person['age'] = 31           # Update existing

# Dictionary methods
keys = person.keys()         # Get all keys
values = person.values()     # Get all values
items = person.items()       # Get key-value pairs

# Iterating through dictionary
for key, value in person.items():
    print(f"{key}: {value}")

# Dictionary comprehension
squares = {x: x**2 for x in range(5)}
# {0: 0, 1: 1, 2: 4, 3: 9, 4: 16}
\`\`\`

**Key features:**
- Store data as key-value pairs
- Keys must be unique
- Fast lookup by key
- Mutable (can be changed)`,
                        provider: 'demo'
                    };
                }

                if (lowerMessage.includes('variable') || lowerMessage.includes('data type')) {
                    return {
                        message: `**Python Variables & Data Types** 📊

Variables store different types of data:

\`\`\`python
# Numbers
age = 25                    # Integer
price = 19.99              # Float
complex_num = 3 + 4j       # Complex

# Strings
name = "Python"            # String
message = 'Hello World'    # Also string
multiline = """This is
a multiline string"""

# Boolean
is_active = True
is_complete = False

# None (represents absence of value)
result = None

# Type checking
print(type(age))           # <class 'int'>
print(type(price))         # <class 'float'>
print(type(name))          # <class 'str'>

# Type conversion
str_num = "123"
int_num = int(str_num)     # Convert to integer
float_num = float(str_num) # Convert to float
\`\`\`

**Data types:**
- \`int\` - Whole numbers
- \`float\` - Decimal numbers
- \`str\` - Text
- \`bool\` - True/False
- \`None\` - No value`,
                        provider: 'demo'
                    };
                }

                // Generic helpful response
                return {
                    message: `I'm here to help with Python programming! 🐍 *(Demo Mode)*

**Try asking about:**
- "What are Python lists?" - Learn about storing multiple items
- "How do functions work?" - Understand reusable code blocks
- "Explain Python loops" - Learn about repeating code
- "What are Python dictionaries?" - Key-value data storage
- "Tell me about variables" - Data types and storage

**Or ask specific questions like:**
- "How to read a file in Python?"
- "What's the difference between lists and tuples?"
- "How to handle errors in Python?"

*Note: This is demo mode with built-in responses. For full AI capabilities, configure API keys in settings.*

What specific Python topic would you like to learn about?`,
                    provider: 'demo'
                };
            }

            // Hugging Face API (Free)
            async function callHuggingFaceAPI(message) {
                const token = localStorage.getItem('hf_token');
                if (!token) throw new Error('Hugging Face token not configured');

                const response = await fetch('https://api-inference.huggingface.co/models/microsoft/DialoGPT-medium', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${token}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        inputs: message,
                        parameters: {
                            max_length: 500,
                            temperature: 0.7
                        }
                    })
                });

                if (!response.ok) {
                    throw new Error(`Hugging Face API error: ${response.status}`);
                }

                const data = await response.json();
                return {
                    message: data.generated_text || data[0]?.generated_text || "I'm here to help with Python questions!",
                    provider: 'huggingface'
                };
            }

            // Groq API (Free tier available)
            async function callGroqAPI(message) {
                const apiKey = localStorage.getItem('groq_key');
                if (!apiKey) throw new Error('Groq API key not configured');

                const response = await fetch('https://api.groq.com/openai/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: 'llama3-8b-8192',
                        messages: [
                            { role: 'system', content: 'You are PyBot, a helpful Python programming assistant.' },
                            { role: 'user', content: message }
                        ],
                        max_tokens: 500,
                        temperature: 0.7
                    })
                });

                if (!response.ok) {
                    throw new Error(`Groq API error: ${response.status}`);
                }

                const data = await response.json();
                return {
                    message: data.choices[0]?.message?.content || "I'm here to help with Python questions!",
                    provider: 'groq'
                };
            }

            // Cohere API (Free tier available)
            async function callCohereAPI(message) {
                const apiKey = localStorage.getItem('cohere_key');
                if (!apiKey) throw new Error('Cohere API key not configured');

                const response = await fetch('https://api.cohere.ai/v1/generate', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: 'command-light',
                        prompt: message,
                        max_tokens: 500,
                        temperature: 0.7
                    })
                });

                if (!response.ok) {
                    throw new Error(`Cohere API error: ${response.status}`);
                }

                const data = await response.json();
                return {
                    message: data.generations[0]?.text || "I'm here to help with Python questions!",
                    provider: 'cohere'
                };
            }

            // Fallback function for local responses
            function findBestResponse(message) {
                const lowerMessage = message.toLowerCase();
                let bestMatch = null;
                let highestScore = 0;

                for (const [topic, data] of Object.entries(pythonKnowledge)) {
                    let score = 0;
                    
                    if (lowerMessage.includes(topic)) {
                        score += 10;
                    }
                    
                    for (const keyword of data.keywords) {
                        if (lowerMessage.includes(keyword)) {
                            score += 5;
                        }
                    }
                    
                    if (score > highestScore) {
                        highestScore = score;
                        bestMatch = data;
                    }
                }

                return bestMatch || {
                    response: `I understand you're asking about Python! Here are some topics I can help with:

🐍 **Common Topics:**
- Variables and data types
- Lists and dictionaries
- Functions and classes
- Loops and conditionals
- Error handling and debugging

Try asking me something like:
- "How do I create a list?"
- "Explain Python functions"
- "What are Python loops?"

What specific Python topic would you like to learn about?`
                };
            }
            // Test Smart Chatbot Connection
        async function testChatbotConnection() {
            addMessage('🧪 Testing Smart Chatbot connection...');

            try {
                const response = await callSmartChatbot('Hello! Please respond with "Connection test successful" if you can see this message.');
                addMessage('✅ Smart Chatbot connection successful! Ready to help with Python programming.');
                showNotification('Chatbot test successful!', 'success');
            } catch (error) {
                console.error('Chatbot Test Error:', error);
                addMessage('❌ Smart Chatbot connection failed. Using fallback knowledge base.');
                showNotification('Chatbot test failed', 'error');
            }
        }

        // View Smart Chatbot Statistics
        async function viewChatbotStats() {
            try {
                // GitHub Pages version - show demo stats
                const stats = {
                    total_conversations: 42,
                    total_responses: 156,
                    confidence_scores: { high: 89, medium: 11, low: 0 },
                    popular_topics: ["Python Basics", "Functions", "Lists", "Loops", "Variables"]
                };
                // const response = await fetch('http://localhost:5000/api/stats');
                // GitHub Pages demo version
                addMessage(`📊 **Smart Chatbot Statistics (Demo):**

• **Total Conversations:** ${stats.total_conversations}
• **Total Responses:** ${stats.total_responses}
• **High Confidence:** ${stats.confidence_scores.high}%
• **Popular Topics:** ${stats.popular_topics.join(', ')}

*Note: This is a demo version. Full chatbot requires local server.* 🤖✨`);
            } catch (error) {
                addMessage('📊 Unable to connect to Smart Chatbot backend for statistics.');
            }
        }

        // Handle response style changes
        function onResponseStyleChange() {
            const styleSelect = document.getElementById('responseStyle');
            const selectedStyle = styleSelect.value;

            const styleDescriptions = {
                'balanced': 'Balanced responses with good detail and examples',
                'detailed': 'Comprehensive explanations with advanced concepts',
                'concise': 'Brief, to-the-point answers',
                'beginner': 'Simple explanations perfect for beginners'
            };

            const description = styleDescriptions[selectedStyle];
            showNotification(`Response style changed to: ${selectedStyle.charAt(0).toUpperCase() + selectedStyle.slice(1)}`, 'info');

            // Save preference
            localStorage.setItem('pybot_response_style', selectedStyle);
        }

        // Load saved response style
        function loadResponseStyle() {
            const savedStyle = localStorage.getItem('pybot_response_style');
            if (savedStyle) {
                const styleSelect = document.getElementById('responseStyle');
                if (styleSelect) {
                    styleSelect.value = savedStyle;
                }
            }
        }

        // Unified Input Mode Functions
        let currentInputMode = 'text';

        function setInputMode(mode) {
            currentInputMode = mode;
            const textMode = document.getElementById('textInputMode');
            const codeMode = document.getElementById('codeInputMode');
            const textBtn = document.getElementById('textModeBtn');
            const codeBtn = document.getElementById('codeModeBtn');
            const label = document.getElementById('inputModeLabel');

            if (mode === 'text') {
                textMode.classList.remove('hidden');
                codeMode.classList.add('hidden');
                textBtn.className = 'bg-blue-600 text-white px-3 py-1 rounded text-sm transition-colors flex items-center';
                codeBtn.className = 'bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm transition-colors flex items-center';
                label.textContent = 'Ask anything about Python';
                document.getElementById('messageInput').focus();
            } else {
                textMode.classList.add('hidden');
                codeMode.classList.remove('hidden');
                textBtn.className = 'bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm transition-colors flex items-center';
                codeBtn.className = 'bg-green-600 text-white px-3 py-1 rounded text-sm transition-colors flex items-center';
                label.textContent = 'Paste code for error checking';
                document.getElementById('codeInput').focus();
            }
        }

        function clearCodeInput() {
            document.getElementById('codeInput').value = '';
            document.getElementById('codeInput').focus();
        }

        function insertCodeExample() {
            const examples = [
                `# Example 1: Function with error
def greet(name)
    print(f"Hello, {name}!")

greet("World")`,

                `# Example 2: List operations
my_list = [1, 2, 3, 4, 5]
print(my_list[10])  # Index error
print(my_list.append(6))`,

                `# Example 3: Dictionary usage
person = {"name": "John", "age": 30}
print(person["height"])  # Key error
print(person.get("height", "Unknown"))`,

                `# Example 4: Loop with syntax issue
for i in range(5)
    if i % 2 == 0:
        print(f"{i} is even")
    else
        print(f"{i} is odd")`
            ];

            const randomExample = examples[Math.floor(Math.random() * examples.length)];
            document.getElementById('codeInput').value = randomExample;
        }

        function handleCodeInputKeydown(event) {
            // Handle Tab key for indentation
            if (event.key === 'Tab') {
                event.preventDefault();
                const textarea = event.target;
                const start = textarea.selectionStart;
                const end = textarea.selectionEnd;

                // Insert 4 spaces
                textarea.value = textarea.value.substring(0, start) + '    ' + textarea.value.substring(end);
                textarea.selectionStart = textarea.selectionEnd = start + 4;
            }

            // Handle Ctrl+Enter to submit
            if (event.ctrlKey && event.key === 'Enter') {
                sendCodeForChecking();
            }
        }

        // Simple working chatbot function
        function sendUnifiedMessage() {
            console.log('sendUnifiedMessage called');

            // Get the message input
            const messageInput = document.getElementById('messageInput');
            if (!messageInput) {
                console.error('messageInput not found');
                return;
            }

            const message = messageInput.value.trim();
            if (!message) {
                console.log('No message to send');
                return;
            }

            console.log('Sending message:', message);

            // Add user message
            addSimpleMessage(message, true);
            messageInput.value = '';

            // Get and add bot response
            setTimeout(() => {
                const response = getSimpleResponse(message);
                addSimpleMessage(response, false);
            }, 500);
        }

        // Simple message adding function
        function addSimpleMessage(content, isUser = false) {
            console.log('addSimpleMessage called:', content, isUser);

            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) {
                console.error('chatMessages not found');
                return;
            }

            const messageDiv = document.createElement('div');
            messageDiv.className = `flex mb-4 ${isUser ? 'justify-end' : 'justify-start'}`;

            if (isUser) {
                messageDiv.innerHTML = `
                    <div class="bg-blue-600 text-white px-4 py-2 rounded-2xl rounded-tr-none max-w-md">
                        ${content}
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex items-start gap-3 max-w-md">
                        <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center flex-shrink-0">
                            <i class="fas fa-robot text-white text-sm"></i>
                        </div>
                        <div class="bg-gray-700 text-white px-4 py-2 rounded-2xl rounded-tl-none">
                            ${formatSimpleMessage(content)}
                        </div>
                    </div>
                `;
            }

            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Format messages
        function formatSimpleMessage(text) {
            return text
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/```python\n([\s\S]*?)\n```/g, '<div class="bg-gray-900 p-3 rounded-lg mt-2 mb-2 font-mono text-sm overflow-x-auto"><code>$1</code></div>')
                .replace(/\n/g, '<br>');
        }

        // Get simple response
        function getSimpleResponse(message) {
            const lowerMessage = message.toLowerCase();

            if (lowerMessage.includes('list')) {
                return `**Python Lists 📝**

Lists are ordered collections that can store multiple items:

\`\`\`python
fruits = ['apple', 'banana', 'orange']
fruits.append('grape')
print(fruits)  # ['apple', 'banana', 'orange', 'grape']
\`\`\`

**Common operations:**
• \`append()\` - Add item to end
• \`insert()\` - Add at specific position
• \`remove()\` - Remove specific item
• \`pop()\` - Remove and return item`;
            }

            if (lowerMessage.includes('function')) {
                return `**Python Functions 🔧**

Functions are reusable blocks of code:

\`\`\`python
def greet(name):
    return f"Hello, {name}!"

message = greet("Python")
print(message)  # Hello, Python!
\`\`\`

**Key concepts:**
• Use \`def\` keyword to define
• Parameters go in parentheses
• Use \`return\` to send back values`;
            }

            return `I'm here to help with Python programming! 🐍

**Try asking about:**
• "What are Python lists?"
• "How do functions work?"
• "Explain Python loops"
• "What are dictionaries?"

What would you like to learn about?`;
        }

        async function sendTextMessage() {
            console.log('sendTextMessage called');
            const messageInput = document.getElementById('messageInput');
            console.log('messageInput element:', messageInput);
            const message = messageInput ? messageInput.value.trim() : '';
            console.log('message:', message);

            if (!message) {
                console.log('No message, showing notification');
                showNotification('Please enter a message', 'warning');
                return;
            }

            // Add user message
            console.log('Adding user message');
            addMessage(message, true);
            if (messageInput) messageInput.value = '';

            // Add to history
            chatHistory.push({type: 'user', message: message});

            try {
                const response = await callSmartChatbot(message);
                addMessage(response.message);
                chatHistory.push({type: 'bot', message: response.message});
                saveChatHistory();

            } catch (error) {
                console.error('Chat error:', error);

                // Try demo mode as fallback
                try {
                    const demoResponse = getDemoResponse(message);
                    addMessage(demoResponse.message + '\n\n*Note: Using demo mode. Configure API keys for full AI functionality.*');
                    chatHistory.push({type: 'bot', message: demoResponse.message});
                    saveChatHistory();
                } catch (demoError) {
                    console.error('Demo mode error:', demoError);
                    addMessage('❌ Sorry, I encountered an error. Please try enabling demo mode or configuring API keys in settings.');
                    showNotification('Message failed to send', 'error');
                }
            }
        }

        async function sendCodeMessage() {
            const codeInput = document.getElementById('codeInput');
            const code = codeInput.value.trim();

            if (!code) {
                showNotification('Please enter some Python code to check', 'warning');
                return;
            }

            // Add user message showing the code
            addMessage(`🔍 **Code Check Request:**\n\`\`\`python\n${code}\n\`\`\``, true);

            // Add to history
            chatHistory.push({type: 'user', message: `Code check: ${code}`});

            try {
                const response = await callSmartChatbot(`\`\`\`python\n${code}\n\`\`\``);
                addMessage(response.message);
                chatHistory.push({type: 'bot', message: response.message});
                saveChatHistory();

                // Clear code input and switch back to text mode
                clearCodeInput();
                setInputMode('text');

                showNotification('Code analysis completed!', 'success');

            } catch (error) {
                console.error('Code checking error:', error);
                addMessage('❌ Sorry, I encountered an error while checking your code. Please try again.');
                showNotification('Code checking failed', 'error');
            }
        }

        // Toggle chat settings panel
        function toggleChatSettings() {
            const settingsPanel = document.getElementById('chatSettings');
            if (settingsPanel.classList.contains('hidden')) {
                settingsPanel.classList.remove('hidden');
            } else {
                settingsPanel.classList.add('hidden');
            }
        }



        // Clear chat history
        function clearChatHistory() {
            if (confirm('Are you sure you want to clear the chat history?')) {
                const chatMessages = document.getElementById('chatMessages');
                chatMessages.innerHTML = '';
                chatHistory = [];
                conversationHistory = [];
                localStorage.removeItem('chat_history');
                addMessage('🗑️ Chat history cleared.');
                setTimeout(() => {
                    showPyBotWelcome();
                }, 500);
            }
        }

        // Save chat history to localStorage
        function saveChatHistory() {
            localStorage.setItem('chat_history', JSON.stringify(chatHistory));
        }

        // Load chat history from localStorage
        function loadChatHistory() {
            const saved = localStorage.getItem('chat_history');
            if (saved) {
                chatHistory = JSON.parse(saved);
                // Restore conversation history for AI context
                conversationHistory = chatHistory
                    .filter(msg => msg.type === 'user' || msg.type === 'bot')
                    .map(msg => ({
                        role: msg.type === 'user' ? 'user' : 'assistant',
                        content: msg.message
                    }));
            }
        }

        // Update addMessage for modern chat bubbles and avatars
        function addMessage(message, isUser = false) {
            console.log('addMessage called with:', message, 'isUser:', isUser);
            const chatMessages = document.getElementById('chatMessages');
            console.log('chatMessages in addMessage:', chatMessages);

            if (!chatMessages) {
                console.error('chatMessages element not found!');
                return;
            }

            const messageDiv = document.createElement('div');
            const messageId = 'msg-' + Date.now() + '-' + Math.random().toString(36).substr(2, 9);
            messageDiv.className = 'flex mb-4 animate-fadeInUp ' + (isUser ? 'justify-end' : 'justify-start');
            messageDiv.id = messageId;

            if (isUser) {
                messageDiv.innerHTML = `
                    <div class="flex items-end gap-2 group">
                        <button onclick="copyMessage('${messageId}')" class="opacity-0 group-hover:opacity-100 text-gray-400 hover:text-white p-1 rounded transition-all" title="Copy message">
                            <i class="fas fa-copy text-xs"></i>
                        </button>
                        <div class="bg-green-500 text-white px-4 py-2 rounded-2xl rounded-br-none max-w-xs text-right shadow-md message-content">${escapeHTML(message)}</div>
                    </div>
                `;
            } else {
                messageDiv.innerHTML = `
                    <div class="flex items-end gap-2 group">
                        <div class="w-8 h-8 bg-gray-700 rounded-full border-2 border-blue-400 overflow-hidden flex items-center justify-center flex-shrink-0">
                            <img src="images/pybot.png" alt="PyBot" class="w-8 h-8 object-cover rounded-full" />
                        </div>
                        <div class="bg-gray-700 text-white px-4 py-2 rounded-2xl rounded-bl-none max-w-xs shadow-md message-content">${formatBotMessage(message)}</div>
                        <div class="opacity-0 group-hover:opacity-100 flex flex-col gap-1 transition-all">
                            <button onclick="copyMessage('${messageId}')" class="text-gray-400 hover:text-white p-1 rounded" title="Copy message">
                                <i class="fas fa-copy text-xs"></i>
                            </button>
                            <button onclick="regenerateResponse('${messageId}')" class="text-gray-400 hover:text-white p-1 rounded" title="Regenerate response">
                                <i class="fas fa-redo text-xs"></i>
                            </button>
                            <button onclick="likeMessage('${messageId}')" class="text-gray-400 hover:text-green-400 p-1 rounded" title="Like response">
                                <i class="fas fa-thumbs-up text-xs"></i>
                            </button>
                        </div>
                    </div>
                `;
            }

            chatMessages.appendChild(messageDiv);

            // Enhanced auto-scroll with smooth animation
            setTimeout(() => {
                chatMessages.scrollTo({
                    top: chatMessages.scrollHeight,
                    behavior: 'smooth'
                });
            }, 100);

            // Ensure the latest message is always visible
            messageDiv.scrollIntoView({
                behavior: 'smooth',
                block: 'end',
                inline: 'nearest'
            });
            messageCount++;
        }

        function formatBotMessage(message) {
            return message
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                .replace(/```python\n([\s\S]*?)\n```/g, '<div class="bg-gray-900 p-3 rounded-lg mt-2 mb-2 font-mono text-sm overflow-x-auto"><code>$1</code></div>')
                .replace(/```([\s\S]*?)```/g, '<div class="bg-gray-900 p-3 rounded-lg mt-2 mb-2 font-mono text-sm overflow-x-auto"><code>$1</code></div>')
                .replace(/`([^`]+)`/g, '<code class="bg-gray-700 px-1 py-0.5 rounded text-sm">$1</code>')
                .replace(/\n/g, '<br>');
        }

        // Typing indicator helpers
        function showTyping() {
            document.getElementById('typingIndicator').classList.remove('hidden');
        }
        function hideTyping() {
            document.getElementById('typingIndicator').classList.add('hidden');
        }
        // Escape HTML for user messages
        function escapeHTML(str) {
            return str.replace(/[&<>'"]/g, function(tag) {
                const chars = {'&':'&amp;','<':'&lt;','>':'&gt;','\'':'&#39;','"':'&quot;'};
                return chars[tag] || tag;
            });
        }

        // Legacy sendMessage function - now uses unified approach
        async function sendMessage() {
            await sendUnifiedMessage();
        }



        // Copy message content
        function copyMessage(messageId) {
            const messageElement = document.getElementById(messageId);
            const messageContent = messageElement.querySelector('.message-content');
            const text = messageContent.textContent || messageContent.innerText;

            navigator.clipboard.writeText(text).then(() => {
                showNotification('Message copied to clipboard!', 'success');
            }).catch(() => {
                showNotification('Failed to copy message', 'error');
            });
        }

        // Regenerate AI response
        function regenerateResponse(messageId) {
            if (!isUsingAI || !apiKey) {
                const providerName = currentAIProvider === 'deepseek' ? 'DeepSeek' : 'OpenAI';
                showNotification(`AI regeneration requires ${providerName} API key`, 'warning');
                return;
            }

            // Find the user message that prompted this response
            const messageElement = document.getElementById(messageId);
            const allMessages = Array.from(document.querySelectorAll('#chatMessages > div'));
            const messageIndex = allMessages.indexOf(messageElement);

            if (messageIndex > 0) {
                const userMessageElement = allMessages[messageIndex - 1];
                const userMessageContent = userMessageElement.querySelector('.message-content');
                const userMessage = userMessageContent.textContent || userMessageContent.innerText;

                // Remove the current response
                messageElement.remove();

                // Regenerate response
                showTyping();
                callAI(userMessage).then(response => {
                    addMessage(response);
                    hideTyping();
                }).catch(error => {
                    console.error('Regeneration error:', error);
                    addMessage('Sorry, I couldn\'t regenerate the response. Please try again.');
                    hideTyping();
                });
            }
        }

        // Like/unlike message
        function likeMessage(messageId) {
            const button = document.querySelector(`#${messageId} .fa-thumbs-up`).parentElement;
            const isLiked = button.classList.contains('text-green-400');

            if (isLiked) {
                button.classList.remove('text-green-400');
                button.classList.add('text-gray-400');
                button.title = 'Like response';
            } else {
                button.classList.remove('text-gray-400');
                button.classList.add('text-green-400');
                button.title = 'Unlike response';
                showNotification('Thanks for the feedback!', 'success');
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const colors = {
                success: 'bg-green-600',
                error: 'bg-red-600',
                warning: 'bg-yellow-600',
                info: 'bg-blue-600'
            };

            notification.className = `fixed bottom-4 right-4 ${colors[type]} text-white px-4 py-2 rounded-lg shadow-lg z-50 transition-all transform translate-y-0`;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.transform = 'translateY(100px)';
                notification.style.opacity = '0';
                setTimeout(() => notification.remove(), 300);
            }, 3000);
        }



        function closeCodeAnalyzer() {
            document.getElementById('codeAnalyzerModal').classList.add('hidden');
        }

        function clearCodeAnalyzer() {
            document.getElementById('codeAnalyzerInput').value = '';
            document.getElementById('codeAnalysisResult').classList.add('hidden');
        }

        async function analyzeCode() {
            const code = document.getElementById('codeAnalyzerInput').value.trim();
            if (!code) {
                showNotification('Please enter some Python code to analyze', 'warning');
                return;
            }

            const prompt = `Please analyze this Python code and provide feedback on:
1. Code quality and style
2. Potential bugs or issues
3. Performance improvements
4. Best practices suggestions
5. Security considerations (if applicable)

Code to analyze:
\`\`\`python
${code}
\`\`\``;

            await sendAnalysisRequest(prompt, 'Code Analysis');
        }

        async function optimizeCode() {
            const code = document.getElementById('codeAnalyzerInput').value.trim();
            if (!code) {
                showNotification('Please enter some Python code to optimize', 'warning');
                return;
            }

            const prompt = `Please optimize this Python code for better performance, readability, and following Python best practices. Provide the optimized version with explanations of the changes:

\`\`\`python
${code}
\`\`\``;

            await sendAnalysisRequest(prompt, 'Code Optimization');
        }

        async function explainCode() {
            const code = document.getElementById('codeAnalyzerInput').value.trim();
            if (!code) {
                showNotification('Please enter some Python code to explain', 'warning');
                return;
            }

            const prompt = `Please explain this Python code in detail, including:
1. What the code does
2. How it works step by step
3. Key concepts used
4. Potential use cases

Code to explain:
\`\`\`python
${code}
\`\`\``;

            await sendAnalysisRequest(prompt, 'Code Explanation');
        }

        async function sendAnalysisRequest(prompt, title) {
            const resultDiv = document.getElementById('codeAnalysisResult');
            const contentDiv = document.getElementById('analysisContent');

            resultDiv.classList.remove('hidden');
            contentDiv.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>Analyzing code...';

            try {
                let response;
                if (isUsingAI && apiKey) {
                    response = await callAI(prompt);
                } else {
                    const providerName = currentAIProvider === 'deepseek' ? 'DeepSeek' : 'OpenAI';
                    response = `AI analysis requires ${providerName} API key. Please set your API key in the chatbot settings to use this feature.`;
                }

                contentDiv.innerHTML = `<h5 class="font-semibold text-blue-400 mb-2">${title}:</h5>${formatBotMessage(response)}`;
            } catch (error) {
                console.error('Analysis error:', error);
                contentDiv.innerHTML = '<span class="text-red-400">Analysis failed. Please try again.</span>';
            }
        }



        function closeCodeTemplates() {
            document.getElementById('codeTemplatesModal').classList.add('hidden');
        }

        function populateCodeTemplates() {
            const templates = [
                {
                    title: 'Basic Function',
                    description: 'Simple function template',
                    code: `def my_function(parameter):
    """
    Description of what the function does.

    Args:
        parameter: Description of parameter

    Returns:
        Description of return value
    """
    # Your code here
    return result`
                },
                {
                    title: 'Class Template',
                    description: 'Basic class structure',
                    code: `class MyClass:
    """A simple class example."""

    def __init__(self, name):
        """Initialize the class."""
        self.name = name

    def method(self):
        """A simple method."""
        return f"Hello, {self.name}!"`
                },
                {
                    title: 'File Reading',
                    description: 'Read file with error handling',
                    code: `try:
    with open('filename.txt', 'r') as file:
        content = file.read()
        print(content)
except FileNotFoundError:
    print("File not found!")
except IOError:
    print("Error reading file!")`
                },
                {
                    title: 'API Request',
                    description: 'Make HTTP requests',
                    code: `import requests

try:
    response = requests.get('https://api.example.com/data')
    response.raise_for_status()  # Raises an HTTPError for bad responses
    data = response.json()
    print(data)
except requests.exceptions.RequestException as e:
    print(f"Request failed: {e}")`
                },
                {
                    title: 'List Comprehension',
                    description: 'Common list operations',
                    code: `# Filter and transform data
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

# Filter even numbers
evens = [x for x in numbers if x % 2 == 0]

# Square all numbers
squares = [x**2 for x in numbers]

# Conditional transformation
result = [x if x % 2 == 0 else x*2 for x in numbers]`
                },
                {
                    title: 'Error Handling',
                    description: 'Try-except template',
                    code: `try:
    # Code that might raise an exception
    result = risky_operation()
except SpecificException as e:
    # Handle specific exception
    print(f"Specific error: {e}")
except Exception as e:
    # Handle any other exception
    print(f"Unexpected error: {e}")
else:
    # Runs if no exception occurred
    print("Operation successful")
finally:
    # Always runs
    cleanup()`
                }
            ];

            const grid = document.getElementById('templatesGrid');
            grid.innerHTML = templates.map(template => `
                <div class="bg-gray-700 p-4 rounded-lg">
                    <h4 class="text-lg font-semibold text-blue-400 mb-2">${template.title}</h4>
                    <p class="text-gray-300 text-sm mb-3">${template.description}</p>
                    <pre class="bg-gray-900 p-3 rounded text-xs overflow-x-auto mb-3"><code>${escapeHTML(template.code)}</code></pre>
                    <div class="flex gap-2">
                        <button onclick="useTemplate('${escapeHTML(template.code)}')" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm">
                            <i class="fas fa-plus mr-1"></i>Use Template
                        </button>
                        <button onclick="copyTemplate('${escapeHTML(template.code)}')" class="bg-gray-600 hover:bg-gray-700 text-white px-3 py-1 rounded text-sm">
                            <i class="fas fa-copy mr-1"></i>Copy
                        </button>
                    </div>
                </div>
            `).join('');
        }

        function useTemplate(code) {
            const decodedCode = code.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&').replace(/&#39;/g, "'").replace(/&quot;/g, '"');
            document.getElementById('messageInput').value = `Please explain this code template and show me how to use it:\n\n${decodedCode}`;
            closeCodeTemplates();
            sendMessage();
        }

        function copyTemplate(code) {
            const decodedCode = code.replace(/&lt;/g, '<').replace(/&gt;/g, '>').replace(/&amp;/g, '&').replace(/&#39;/g, "'").replace(/&quot;/g, '"');
            navigator.clipboard.writeText(decodedCode).then(() => {
                showNotification('Template copied to clipboard!', 'success');
            }).catch(() => {
                showNotification('Failed to copy template', 'error');
            });
        }

        // Export/Import Functions
        function exportChat() {
            if (chatHistory.length === 0) {
                showNotification('No chat history to export', 'warning');
                return;
            }

            const exportData = {
                timestamp: new Date().toISOString(),
                version: '1.0',
                chatHistory: chatHistory,
                settings: {
                    aiModel: currentAIModel,
                    isUsingOpenAI: isUsingOpenAI
                }
            };

            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);

            const link = document.createElement('a');
            link.href = url;
            link.download = `pyhub-chat-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showNotification('Chat exported successfully!', 'success');
        }

        function importChat() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            input.onchange = function(event) {
                const file = event.target.files[0];
                if (!file) return;

                const reader = new FileReader();
                reader.onload = function(e) {
                    try {
                        const importData = JSON.parse(e.target.result);

                        if (!importData.chatHistory || !Array.isArray(importData.chatHistory)) {
                            throw new Error('Invalid chat file format');
                        }

                        // Confirm import
                        if (confirm(`Import chat from ${importData.timestamp ? new Date(importData.timestamp).toLocaleDateString() : 'unknown date'}?\n\nThis will replace your current chat history.`)) {
                            // Clear current chat
                            const chatMessages = document.getElementById('chatMessages');
                            chatMessages.innerHTML = '';

                            // Import chat history
                            chatHistory = importData.chatHistory;
                            conversationHistory = chatHistory
                                .filter(msg => msg.type === 'user' || msg.type === 'bot')
                                .map(msg => ({
                                    role: msg.type === 'user' ? 'user' : 'assistant',
                                    content: msg.message
                                }));

                            // Restore messages to UI
                            chatHistory.forEach(msg => {
                                addMessage(msg.message, msg.type === 'user');
                            });

                            // Apply settings if available
                            if (importData.settings) {
                                if (importData.settings.aiModel) {
                                    currentAIModel = importData.settings.aiModel;
                                    const modelSelect = document.getElementById('aiModelSelect');
                                    if (modelSelect) {
                                        modelSelect.value = currentAIModel;
                                    }
                                }
                            }

                            saveChatHistory();
                            showNotification('Chat imported successfully!', 'success');
                        }
                    } catch (error) {
                        console.error('Import error:', error);
                        showNotification('Failed to import chat file', 'error');
                    }
                };
                reader.readAsText(file);
            };
            input.click();
        }

        // Share chat functionality
        function shareChat() {
            if (chatHistory.length === 0) {
                showNotification('No chat history to share', 'warning');
                return;
            }

            const shareData = {
                timestamp: new Date().toISOString(),
                messages: chatHistory.map(msg => ({
                    type: msg.type,
                    message: msg.message,
                    timestamp: new Date().toISOString()
                }))
            };

            const shareText = `PyHub Chat Session - ${new Date().toLocaleDateString()}\n\n` +
                chatHistory.map(msg =>
                    `${msg.type === 'user' ? 'You' : 'PyBot'}: ${msg.message}`
                ).join('\n\n') +
                '\n\n--- Generated by PyHub ---';

            if (navigator.share) {
                navigator.share({
                    title: 'PyHub Chat Session',
                    text: shareText
                }).then(() => {
                    showNotification('Chat shared successfully!', 'success');
                }).catch(() => {
                    fallbackShare(shareText);
                });
            } else {
                fallbackShare(shareText);
            }
        }

        function fallbackShare(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification('Chat copied to clipboard!', 'success');
            }).catch(() => {
                showNotification('Failed to copy chat', 'error');
            });
        }





        function clearChat() {
            if (confirm('Are you sure you want to clear the chat history?')) {
                const chatMessages = document.getElementById('chatMessages');
                chatMessages.innerHTML = `
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 bg-red-500 rounded-full flex items-center justify-center flex-shrink-0 mt-1">
                            <i class="fas fa-robot text-white text-sm"></i>
                        </div>
                        <div class="bot-message text-white p-3 message-bubble">
                            <p>👋 Hello! I'm PyBot, your AI Python assistant!</p>
                            <p class="mt-2 text-sm opacity-90">I can help you with:</p>
                            <ul class="mt-2 text-sm opacity-90 space-y-1">
                                <li>• Python syntax and concepts</li>
                                <li>• Code debugging and optimization</li>
                                <li>• Best practices and examples</li>
                                <li>• Library and framework questions</li>
                            </ul>
                            ${!isUsingAI ? '<div class="mt-3 p-2 bg-blue-600 bg-opacity-20 rounded text-sm">💡 <strong>Tip:</strong> Set your API key in settings to unlock advanced AI responses with OpenAI or DeepSeek!</div>' : ''}
                        </div>
                    </div>
                `;
                
                chatHistory = [];
                messageCount = 1;
                document.getElementById('messageCount').textContent = messageCount;
                document.getElementById('helpfulResponses').textContent = 1;
            }
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

            // Frameworks data
        const frameworks = [
            // Web Frameworks
            {
                name: "Django",
                category: "web",
                description: "A high-level Python web framework that encourages rapid development and clean, pragmatic design.",
                icon: "fab fa-python",
                color: "text-green-500",
                functions: ["URL Routing", "ORM", "Admin Interface", "Authentication", "Templates"],
                website: "https://www.djangoproject.com/"
            },
            {
                name: "Flask",
                category: "web", 
                description: "A lightweight WSGI web application framework designed to make getting started quick and easy.",
                icon: "fab fa-python",
                color: "text-blue-500",
                functions: ["Routing", "Templates", "Development Server", "Debugger"],
                website: "https://flask.palletsprojects.com/"
            },
            {
                name: "FastAPI",
                category: "web",
                description: "A modern, fast web framework for building APIs with Python based on standard Python type hints.",
                icon: "fas fa-bolt",
                color: "text-yellow-500",
                functions: ["Async Support", "API Documentation", "Type Checking", "High Performance"],
                website: "https://fastapi.tiangolo.com/"
            },
            {
                name: "Pyramid",
                category: "web",
                description: "A flexible, lightweight web framework that can be used for both small and large applications.",
                icon: "fas fa-mountain",
                color: "text-purple-500",
                functions: ["Flexible Routing", "Security", "Templating", "Database Integration"],
                website: "https://trypyramid.com/"
            },
            {
                name: "Tornado",
                category: "web",
                description: "A Python web framework and asynchronous networking library, originally developed at FriendFeed.",
                icon: "fas fa-wind",
                color: "text-red-500",
                functions: ["Async I/O", "WebSockets", "Non-blocking", "Real-time"],
                website: "https://www.tornadoweb.org/"
            },
            {
                name: "Sanic",
                category: "web",
                description: "A Python 3.7+ web server and web framework that's written to go fast.",
                icon: "fas fa-rocket",
                color: "text-indigo-500",
                functions: ["Async HTTP", "WebSockets", "High Performance", "Easy to Use"],
                website: "https://sanicframework.org/"
            },

            // Data Science & Analysis
            {
                name: "Pandas",
                category: "data",
                description: "A fast, powerful, flexible and easy to use open source data analysis and manipulation tool.",
                icon: "fas fa-table",
                color: "text-purple-500",
                functions: ["DataFrame", "Series", "Data Analysis", "Data Cleaning"],
                website: "https://pandas.pydata.org/"
            },
            {
                name: "NumPy",
                category: "data",
                description: "The fundamental package for scientific computing with Python, providing support for large arrays and matrices.",
                icon: "fas fa-calculator",
                color: "text-blue-500",
                functions: ["Array Operations", "Linear Algebra", "Random Numbers", "Mathematical Functions"],
                website: "https://numpy.org/"
            },
            {
                name: "SciPy",
                category: "data",
                description: "A library for scientific and technical computing, built on top of NumPy.",
                icon: "fas fa-flask",
                color: "text-green-500",
                functions: ["Optimization", "Signal Processing", "Statistics", "Image Processing"],
                website: "https://scipy.org/"
            },
            {
                name: "Matplotlib",
                category: "data",
                description: "A comprehensive library for creating static, animated, and interactive visualizations.",
                icon: "fas fa-chart-line",
                color: "text-orange-500",
                functions: ["2D Plotting", "3D Plotting", "Animation", "Customization"],
                website: "https://matplotlib.org/"
            },
            {
                name: "Seaborn",
                category: "data",
                description: "A statistical data visualization library based on matplotlib.",
                icon: "fas fa-chart-bar",
                color: "text-pink-500",
                functions: ["Statistical Plots", "Color Palettes", "Data Visualization", "Style Settings"],
                website: "https://seaborn.pydata.org/"
            },
            {
                name: "Plotly",
                category: "data",
                description: "An interactive, open-source plotting library that supports over 40 unique chart types.",
                icon: "fas fa-chart-pie",
                color: "text-blue-400",
                functions: ["Interactive Plots", "Dashboards", "3D Visualization", "Web Integration"],
                website: "https://plotly.com/python/"
            },

            // Machine Learning & AI
            {
                name: "TensorFlow",
                category: "ai",
                description: "An open-source software library for machine learning and artificial intelligence.",
                icon: "fas fa-brain",
                color: "text-orange-500",
                functions: ["Neural Networks", "Deep Learning", "Model Training", "Inference"],
                website: "https://www.tensorflow.org/"
            },
            {
                name: "PyTorch",
                category: "ai",
                description: "An open source machine learning framework that accelerates the path from research prototyping to production deployment.",
                icon: "fas fa-fire",
                color: "text-red-500",
                functions: ["Dynamic Computation", "GPU Acceleration", "Neural Networks", "Research Tools"],
                website: "https://pytorch.org/"
            },
            {
                name: "scikit-learn",
                category: "ai",
                description: "A machine learning library featuring various classification, regression and clustering algorithms.",
                icon: "fas fa-robot",
                color: "text-blue-500",
                functions: ["Classification", "Regression", "Clustering", "Model Selection"],
                website: "https://scikit-learn.org/"
            },
            {
                name: "Keras",
                category: "ai",
                description: "A high-level neural networks API, written in Python and capable of running on top of TensorFlow.",
                icon: "fas fa-layer-group",
                color: "text-green-500",
                functions: ["Neural Networks", "Model Building", "Training", "Evaluation"],
                website: "https://keras.io/"
            },
            {
                name: "Hugging Face",
                category: "ai",
                description: "A library for state-of-the-art Natural Language Processing.",
                icon: "fas fa-language",
                color: "text-yellow-500",
                functions: ["Transformers", "NLP Models", "Text Generation", "Model Hub"],
                website: "https://huggingface.co/"
            },
            {
                name: "OpenCV",
                category: "ai",
                description: "An open source computer vision and machine learning software library.",
                icon: "fas fa-eye",
                color: "text-blue-600",
                functions: ["Image Processing", "Video Analysis", "Object Detection", "Face Recognition"],
                website: "https://opencv.org/"
            },

            // Testing & Development
            {
                name: "pytest",
                category: "dev",
                description: "A framework that makes building simple and scalable tests easy.",
                icon: "fas fa-vial",
                color: "text-green-500",
                functions: ["Test Discovery", "Fixtures", "Parameterization", "Plugins"],
                website: "https://docs.pytest.org/"
            },
            {
                name: "Selenium",
                category: "dev",
                description: "A powerful tool for controlling web browsers through programs and performing browser automation.",
                icon: "fas fa-spider",
                color: "text-green-500",
                functions: ["Browser Automation", "Web Testing", "Scraping", "Cross-browser Testing"],
                website: "https://selenium-python.readthedocs.io/"
            },
            {
                name: "Black",
                category: "dev",
                description: "The uncompromising Python code formatter that makes your code more readable.",
                icon: "fas fa-code",
                color: "text-gray-500",
                functions: ["Code Formatting", "Style Enforcement", "Automation", "Consistency"],
                website: "https://black.readthedocs.io/"
            },
            {
                name: "Flake8",
                category: "dev",
                description: "A tool for checking Python code against style guide enforcement.",
                icon: "fas fa-check-circle",
                color: "text-blue-500",
                functions: ["Style Checking", "Error Detection", "Code Quality", "Linting"],
                website: "https://flake8.pycqa.org/"
            },
            {
                name: "mypy",
                category: "dev",
                description: "An optional static type checker for Python that aims to combine the benefits of dynamic and static typing.",
                icon: "fas fa-shield-alt",
                color: "text-purple-500",
                functions: ["Type Checking", "Static Analysis", "Type Hints", "Error Prevention"],
                website: "https://mypy.readthedocs.io/"
            },

            // Database & ORM
            {
                name: "SQLAlchemy",
                category: "db",
                description: "The Database Toolkit for Python, providing a full suite of well known enterprise-level persistence patterns.",
                icon: "fas fa-database",
                color: "text-blue-500",
                functions: ["ORM", "SQL Expression", "Connection Pooling", "Schema Management"],
                website: "https://www.sqlalchemy.org/"
            },
            {
                name: "MongoDB",
                category: "db",
                description: "A document-oriented NoSQL database that provides high performance, high availability, and easy scalability.",
                icon: "fas fa-leaf",
                color: "text-green-500",
                functions: ["Document Storage", "Indexing", "Aggregation", "GridFS"],
                website: "https://www.mongodb.com/"
            },
            {
                name: "Redis",
                category: "db",
                description: "An in-memory data structure store, used as a database, cache, message broker, and queue.",
                icon: "fas fa-memory",
                color: "text-red-500",
                functions: ["Caching", "Pub/Sub", "Data Structures", "Persistence"],
                website: "https://redis.io/"
            },
            {
                name: "SQLite",
                category: "db",
                description: "A self-contained, serverless, zero-configuration, transactional SQL database engine.",
                icon: "fas fa-database",
                color: "text-blue-400",
                functions: ["Embedded Database", "Zero Config", "Single File", "ACID Compliant"],
                website: "https://www.sqlite.org/"
            },
            {
                name: "Peewee",
                category: "db",
                description: "A simple and small ORM with few dependencies, supporting multiple databases.",
                icon: "fas fa-feather",
                color: "text-green-400",
                functions: ["Lightweight ORM", "Multiple DBs", "Simple API", "Migrations"],
                website: "http://docs.peewee-orm.com/"
            },

            // Networking & APIs
            {
                name: "Requests",
                category: "net",
                description: "A simple, yet elegant HTTP library for Python, built for human beings.",
                icon: "fas fa-globe",
                color: "text-blue-500",
                functions: ["HTTP Methods", "Session Handling", "Authentication", "File Uploads"],
                website: "https://requests.readthedocs.io/"
            },
            {
                name: "aiohttp",
                category: "net",
                description: "An async HTTP client/server framework for asyncio and Python.",
                icon: "fas fa-bolt",
                color: "text-yellow-500",
                functions: ["Async HTTP", "WebSockets", "Server", "Client"],
                website: "https://docs.aiohttp.org/"
            },
            {
                name: "Twisted",
                category: "net",
                description: "An event-driven networking engine for Python, supporting many protocols.",
                icon: "fas fa-network-wired",
                color: "text-purple-500",
                functions: ["Event Loop", "Protocols", "Deferreds", "Reactor"],
                website: "https://twistedmatrix.com/"
            },
            {
                name: "Scrapy",
                category: "net",
                description: "A fast high-level web crawling and web scraping framework.",
                icon: "fas fa-spider",
                color: "text-orange-500",
                functions: ["Web Scraping", "Crawling", "Data Extraction", "Pipeline"],
                website: "https://scrapy.org/"
            },
            {
                name: "FastAPI",
                category: "net",
                description: "A modern, fast web framework for building APIs with Python.",
                icon: "fas fa-bolt",
                color: "text-green-500",
                functions: ["API Development", "Async Support", "OpenAPI", "Type Hints"],
                website: "https://fastapi.tiangolo.com/"
            },
            {
                name: "Socket",
                category: "net",
                description: "Python's built-in low-level networking interface for TCP/IP and UDP protocols.",
                icon: "fas fa-plug",
                color: "text-gray-500",
                functions: ["TCP/IP", "UDP", "Raw Sockets", "Network Programming"],
                website: "https://docs.python.org/3/library/socket.html"
            },
            {
                name: "Paramiko",
                category: "net",
                description: "A Python implementation of the SSHv2 protocol, providing both client and server functionality.",
                icon: "fas fa-terminal",
                color: "text-green-600",
                functions: ["SSH Client", "SFTP", "Key Management", "Remote Commands"],
                website: "http://www.paramiko.org/"
            },
            {
                name: "Netmiko",
                category: "net",
                description: "Multi-vendor library to simplify Paramiko SSH connections to network devices.",
                icon: "fas fa-network-wired",
                color: "text-blue-600",
                functions: ["Network Automation", "Device Management", "Configuration", "Multi-vendor Support"],
                website: "https://github.com/ktbyers/netmiko"
            },
            {
                name: "PySNMP",
                category: "net",
                description: "A pure-Python SNMP implementation for network management and monitoring.",
                icon: "fas fa-chart-network",
                color: "text-yellow-600",
                functions: ["SNMP Protocol", "Network Monitoring", "Device Management", "MIB Support"],
                website: "https://pysnmp.readthedocs.io/"
            },
            {
                name: "Django Channels",
                category: "net",
                description: "A project that takes Django and extends its abilities beyond HTTP - to WebSockets, chat protocols, IoT protocols, and more.",
                icon: "fas fa-comments",
                color: "text-green-500",
                functions: ["WebSockets", "Real-time", "Async Support", "Protocol Support"],
                website: "https://channels.readthedocs.io/"
            },
            {
                name: "websockets",
                category: "net",
                description: "A library for building WebSocket servers and clients in Python with a focus on correctness and simplicity.",
                icon: "fas fa-exchange-alt",
                color: "text-purple-500",
                functions: ["WebSocket Server", "WebSocket Client", "Async Support", "Protocol Handling"],
                website: "https://websockets.readthedocs.io/"
            },
            {
                name: "urllib3",
                category: "net",
                description: "A powerful HTTP client for Python with connection pooling, file uploads, and more.",
                icon: "fas fa-link",
                color: "text-blue-400",
                functions: ["Connection Pooling", "File Uploads", "Retries", "SSL/TLS"],
                website: "https://urllib3.readthedocs.io/"
            },

            // GUI & Desktop
            {
                name: "PyQt",
                category: "gui",
                description: "A set of Python bindings for Qt, a framework for creating desktop applications.",
                icon: "fas fa-window-maximize",
                color: "text-blue-500",
                functions: ["GUI Development", "Widgets", "Signals/Slots", "Qt Integration"],
                website: "https://www.riverbankcomputing.com/software/pyqt/"
            },
            {
                name: "Tkinter",
                category: "gui",
                description: "Python's standard GUI toolkit, providing a simple way to create GUI applications.",
                icon: "fas fa-window-restore",
                color: "text-green-500",
                functions: ["Basic GUI", "Widgets", "Event Handling", "Layout"],
                website: "https://docs.python.org/3/library/tkinter.html"
            },
            {
                name: "Kivy",
                category: "gui",
                description: "An open source Python library for developing multitouch application software.",
                icon: "fas fa-mobile-alt",
                color: "text-orange-500",
                functions: ["Cross-platform", "Touch Support", "Custom Widgets", "Animation"],
                website: "https://kivy.org/"
            },

            // Game Development
            {
                name: "Pygame",
                category: "game",
                description: "A set of Python modules designed for writing video games.",
                icon: "fas fa-gamepad",
                color: "text-purple-500",
                functions: ["Graphics", "Sound", "Input", "Game Loop"],
                website: "https://www.pygame.org/"
            },
            {
                name: "Arcade",
                category: "game",
                description: "A modern Python framework for crafting games with compelling graphics and sound.",
                icon: "fas fa-dice",
                color: "text-red-500",
                functions: ["2D Graphics", "Physics", "Sound", "Sprites"],
                website: "https://arcade.academy/"
            },

            // Security & Cryptography
            {
                name: "Cryptography",
                category: "security",
                description: "A package which provides cryptographic recipes and primitives to Python developers.",
                icon: "fas fa-lock",
                color: "text-blue-500",
                functions: ["Encryption", "Hashing", "Signatures", "Key Management"],
                website: "https://cryptography.io/"
            },
            {
                name: "PyJWT",
                category: "security",
                description: "A Python library for encoding and decoding JSON Web Tokens (JWT).",
                icon: "fas fa-key",
                color: "text-yellow-500",
                functions: ["JWT Encoding", "JWT Decoding", "Token Validation", "Claims"],
                website: "https://pyjwt.readthedocs.io/"
            }
        ];

        // Update the category buttons to include all categories
        function updateCategoryButtons() {
            const categories = [...new Set(frameworks.map(f => f.category))];
            const buttonContainer = document.querySelector('#frameworks .flex.space-x-2');
            buttonContainer.innerHTML = `
                <button onclick="filterFrameworks('all')" data-category="all" class="bg-yellow-600 text-white px-4 py-2 rounded">All</button>
                ${categories.map(category => `
                    <button onclick="filterFrameworks('${category}')" data-category="${category}" class="bg-gray-700 text-white px-4 py-2 rounded">${category.charAt(0).toUpperCase() + category.slice(1)}</button>
                `).join('')}
            `;
        }

        // Initialize frameworks
        function initializeFrameworks() {
            const grid = document.getElementById('frameworksGrid');
            frameworks.forEach(framework => {
                const card = document.createElement('div');
                card.className = 'framework-card bg-gray-900 p-6 rounded-lg';
                card.innerHTML = `
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center">
                            <i class="${framework.icon} ${framework.color} text-2xl mr-3"></i>
                            <h3 class="text-xl font-bold">${framework.name}</h3>
                        </div>
                        <span class="bg-gray-700 text-xs px-2 py-1 rounded-full capitalize">${framework.category}</span>
                    </div>
                    <p class="text-gray-300 mb-4 text-sm">${framework.description}</p>
                    <div class="flex flex-wrap gap-1 mb-4">
                        ${framework.functions.slice(0, 3).map(func => 
                            `<span class="bg-blue-600 text-white text-xs px-2 py-1 rounded-full">${func}</span>`
                        ).join('')}
                        ${framework.functions.length > 3 ? `<span class="text-xs text-gray-400 px-2 py-1">+${framework.functions.length - 3} more</span>` : ''}
                    </div>
                    <a href="${framework.website}" target="_blank" class="text-blue-400 hover:text-blue-300 text-sm">
                        <i class="fas fa-external-link-alt mr-1"></i>Visit Website
                    </a>
                `;
                grid.appendChild(card);
            });
        }

        // Filter frameworks
        function filterFrameworks(category) {
            const buttons = document.querySelectorAll('[data-category]');
            buttons.forEach(button => {
                button.classList.remove('bg-yellow-600');
                button.classList.add('bg-gray-700');
            });
            
            const selectedButton = document.querySelector(`[data-category="${category}"]`);
            selectedButton.classList.add('bg-yellow-600');
            selectedButton.classList.remove('bg-gray-700');
            
            const cards = document.querySelectorAll('.framework-card');
            cards.forEach(card => {
                if (category === 'all' || card.querySelector('span').textContent === category) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        // Documentation Modal
        function showDocumentation() {
            document.getElementById('docModal').classList.remove('hidden');
        }

        function closeDocumentation() {
            document.getElementById('docModal').classList.add('hidden');
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            // Ctrl/Cmd + Enter to send message
            if ((e.ctrlKey || e.metaKey) && e.key === 'Enter') {
                const messageInput = document.getElementById('messageInput');
                if (messageInput && document.activeElement === messageInput) {
                    sendMessage();
                }
            }

            // Ctrl/Cmd + K to focus message input
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                const messageInput = document.getElementById('messageInput');
                if (messageInput) {
                    messageInput.focus();
                }
            }

            // Ctrl/Cmd + Shift + C to clear chat
            if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'C') {
                e.preventDefault();
                clearChatHistory();
            }

            // Ctrl/Cmd + Shift + E to export chat
            if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 'E') {
                e.preventDefault();
                exportChat();
            }
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            showPage('home');

            // Initialize chatbot settings
            loadChatHistory();
            loadResponseStyle();
            loadAPIKeys();

            // Show welcome message about AI Chatbot
            setTimeout(() => {
                if (!localStorage.getItem('ai_chatbot_welcome_shown')) {
                    showNotification('🤖 AI Chatbot Ready! Configure API keys in settings for full functionality.', 'info');
                    localStorage.setItem('ai_chatbot_welcome_shown', 'true');
                }
            }, 1000);



            if (document.getElementById('chatbot')) {
                showPyBotWelcome();
            }

            // Auto-configure DeepSeek if no API key is set
            setTimeout(() => {
                if (!apiKey && !localStorage.getItem('api_setup_done')) {
                    setupDeepSeekAPI();
                }
            }, 1000);

            // Show keyboard shortcuts hint
            setTimeout(() => {
                if (localStorage.getItem('shortcuts_shown') !== 'true') {
                    showNotification('💡 Tip: Use Ctrl+K to focus chat, Ctrl+Enter to send!', 'info');
                    localStorage.setItem('shortcuts_shown', 'true');
                }
            }, 2000);
        });

        // Show a welcoming note from PyBot when the chatbot loads
        function showPyBotWelcome() {
            console.log('showPyBotWelcome called');
            const chatMessages = document.getElementById('chatMessages');
            console.log('chatMessages element:', chatMessages);
            console.log('chatMessages children count:', chatMessages ? chatMessages.children.length : 'null');

            if (chatMessages && chatMessages.children.length === 0) {
                console.log('Adding welcome message');
                addMessage("👋 Hi, I'm <b>PyBot</b>! Ask me anything about Python programming. I can help you with syntax, concepts, debugging, and more. Type your question below to get started!", false);
            } else {
                console.log('Welcome message not added - chatMessages exists:', !!chatMessages, 'children count:', chatMessages ? chatMessages.children.length : 'N/A');
            }
        }

        // Add this function to the script section
        function copyOutput() {
            const outputText = document.getElementById('output').textContent;
            navigator.clipboard.writeText(outputText);
            // Show a small notification
            const notification = document.createElement('div');
            notification.className = 'fixed bottom-4 right-4 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg';
            notification.textContent = 'Output copied to clipboard!';
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 2000);
        }

    
    </script>
</body>
</html>